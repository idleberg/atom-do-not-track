"use strict";function t(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}function e(t,e){return e.forEach((function(e){e&&"string"!=typeof e&&!Array.isArray(e)&&Object.keys(e).forEach((function(r){if("default"!==r&&!(r in t)){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}))})),Object.freeze(t)}var r=t(require("path")),n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=s;function s(t,e,r){t instanceof RegExp&&(t=o(t,r)),e instanceof RegExp&&(e=o(e,r));var n=a(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function o(t,e){var r=e.match(t);return r?r[0]:null}function a(t,e,r){var n,i,s,o,a,u=r.indexOf(t),c=r.indexOf(e,u+1),h=u;if(u>=0&&c>0){if(t===e)return[u,c];for(n=[],s=r.length;h>=0&&!a;)h==u?(n.push(h),u=r.indexOf(t,h+1)):1==n.length?a=[n.pop(),c]:((i=n.pop())<s&&(s=i,o=c),c=r.indexOf(e,h+1)),h=u<c&&u>=0?u:c;n.length&&(a=[s,o])}return a}s.range=a;var u=function(t){if(!t)return[];"{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2));return w(function(t){return t.split("\\\\").join(c).split("\\{").join(h).split("\\}").join(p).split("\\,").join(f).split("\\.").join(l)}(t),!0).map(d)},c="\0SLASH"+Math.random()+"\0",h="\0OPEN"+Math.random()+"\0",p="\0CLOSE"+Math.random()+"\0",f="\0COMMA"+Math.random()+"\0",l="\0PERIOD"+Math.random()+"\0";function g(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function d(t){return t.split(c).join("\\").split(h).join("{").split(p).join("}").split(f).join(",").split(l).join(".")}function b(t){if(!t)return[""];var e=[],r=i("{","}",t);if(!r)return t.split(",");var n=r.pre,s=r.body,o=r.post,a=n.split(",");a[a.length-1]+="{"+s+"}";var u=b(o);return o.length&&(a[a.length-1]+=u.shift(),a.push.apply(a,u)),e.push.apply(e,a),e}function m(t){return"{"+t+"}"}function v(t){return/^-?0\d/.test(t)}function y(t,e){return t<=e}function j(t,e){return t>=e}function w(t,e){var r=[],s=i("{","}",t);if(!s||/\$$/.test(s.pre))return[t];var o,a=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),c=a||u,h=s.body.indexOf(",")>=0;if(!c&&!h)return s.post.match(/,.*\}/)?w(t=s.pre+"{"+s.body+p+s.post):[t];if(c)o=s.body.split(/\.\./);else if(1===(o=b(s.body)).length&&1===(o=w(o[0],!1).map(m)).length)return(d=s.post.length?w(s.post,!1):[""]).map((function(t){return s.pre+o[0]+t}));var f,l=s.pre,d=s.post.length?w(s.post,!1):[""];if(c){var O=g(o[0]),x=g(o[1]),E=Math.max(o[0].length,o[1].length),A=3==o.length?Math.abs(g(o[2])):1,S=y;x<O&&(A*=-1,S=j);var $=o.some(v);f=[];for(var k=O;S(k,x);k+=A){var M;if(u)"\\"===(M=String.fromCharCode(k))&&(M="");else if(M=String(k),$){var R=E-M.length;if(R>0){var C=new Array(R+1).join("0");M=k<0?"-"+C+M.slice(1):C+M}}f.push(M)}}else f=function(t,e){for(var r=[],i=0;i<t.length;i++){var s=e(t[i],i);n(s)?r.push.apply(r,s):r.push(s)}return r}(o,(function(t){return w(t,!1)}));for(var T=0;T<f.length;T++)for(var _=0;_<d.length;_++){var L=l+f[T]+d[_];(!e||c||L)&&r.push(L)}return r}var O=M;M.Minimatch=R;var x={sep:"/"};try{x=r.default}catch(t){}var E=M.GLOBSTAR=R.GLOBSTAR={},A={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},S="().*{}+?[]^$\\!".split("").reduce((function(t,e){return t[e]=!0,t}),{});var $=/\/+/;function k(t,e){t=t||{},e=e||{};var r={};return Object.keys(e).forEach((function(t){r[t]=e[t]})),Object.keys(t).forEach((function(e){r[e]=t[e]})),r}function M(t,e,r){if("string"!=typeof e)throw new TypeError("glob pattern string required");return r||(r={}),!(!r.nocomment&&"#"===e.charAt(0))&&(""===e.trim()?""===t:new R(e,r).match(t))}function R(t,e){if(!(this instanceof R))return new R(t,e);if("string"!=typeof t)throw new TypeError("glob pattern string required");e||(e={}),t=t.trim(),"/"!==x.sep&&(t=t.split(x.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function C(t,e){if(e||(e=this instanceof R?this.options:{}),void 0===(t=void 0===t?this.pattern:t))throw new TypeError("undefined pattern");return e.nobrace||!t.match(/\{.*\}/)?[t]:u(t)}M.filter=function(t,e){return e=e||{},function(r,n,i){return M(r,t,e)}},M.defaults=function(t){if(!t||!Object.keys(t).length)return M;var e=M,r=function(r,n,i){return e.minimatch(r,n,k(t,i))};return r.Minimatch=function(r,n){return new e.Minimatch(r,k(t,n))},r},R.defaults=function(t){return t&&Object.keys(t).length?M.defaults(t).Minimatch:R},R.prototype.debug=function(){},R.prototype.make=function(){if(this._made)return;var t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate();var r=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error);this.debug(this.pattern,r),r=this.globParts=r.map((function(t){return t.split($)})),this.debug(this.pattern,r),r=r.map((function(t,e,r){return t.map(this.parse,this)}),this),this.debug(this.pattern,r),r=r.filter((function(t){return-1===t.indexOf(!1)})),this.debug(this.pattern,r),this.set=r},R.prototype.parseNegate=function(){var t=this.pattern,e=!1,r=this.options,n=0;if(r.nonegate)return;for(var i=0,s=t.length;i<s&&"!"===t.charAt(i);i++)e=!e,n++;n&&(this.pattern=t.substr(n));this.negate=e},M.braceExpand=function(t,e){return C(t,e)},R.prototype.braceExpand=C,R.prototype.parse=function(t,e){if(t.length>65536)throw new TypeError("pattern is too long");var r=this.options;if(!r.noglobstar&&"**"===t)return E;if(""===t)return"";var n,i="",s=!!r.nocase,o=!1,a=[],u=[],c=!1,h=-1,p=-1,f="."===t.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",l=this;function g(){if(n){switch(n){case"*":i+="[^/]*?",s=!0;break;case"?":i+="[^/]",s=!0;break;default:i+="\\"+n}l.debug("clearStateChar %j %j",n,i),n=!1}}for(var d,b=0,m=t.length;b<m&&(d=t.charAt(b));b++)if(this.debug("%s\t%s %s %j",t,b,i,d),o&&S[d])i+="\\"+d,o=!1;else switch(d){case"/":return!1;case"\\":g(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,b,i,d),c){this.debug("  in class"),"!"===d&&b===p+1&&(d="^"),i+=d;continue}l.debug("call clearStateChar %j",n),g(),n=d,r.noext&&g();continue;case"(":if(c){i+="(";continue}if(!n){i+="\\(";continue}a.push({type:n,start:b-1,reStart:i.length,open:A[n].open,close:A[n].close}),i+="!"===n?"(?:(?!(?:":"(?:",this.debug("plType %j %j",n,i),n=!1;continue;case")":if(c||!a.length){i+="\\)";continue}g(),s=!0;var v=a.pop();i+=v.close,"!"===v.type&&u.push(v),v.reEnd=i.length;continue;case"|":if(c||!a.length||o){i+="\\|",o=!1;continue}g(),i+="|";continue;case"[":if(g(),c){i+="\\"+d;continue}c=!0,p=b,h=i.length,i+=d;continue;case"]":if(b===p+1||!c){i+="\\"+d,o=!1;continue}if(c){var y=t.substring(p+1,b);try{RegExp("["+y+"]")}catch(t){var j=this.parse(y,T);i=i.substr(0,h)+"\\["+j[0]+"\\]",s=s||j[1],c=!1;continue}}s=!0,c=!1,i+=d;continue;default:g(),o?o=!1:!S[d]||"^"===d&&c||(i+="\\"),i+=d}c&&(y=t.substr(p+1),j=this.parse(y,T),i=i.substr(0,h)+"\\["+j[0],s=s||j[1]);for(v=a.pop();v;v=a.pop()){var w=i.slice(v.reStart+v.open.length);this.debug("setting tail",i,v),w=w.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(t,e,r){return r||(r="\\"),e+e+r+"|"})),this.debug("tail=%j\n   %s",w,w,v,i);var O="*"===v.type?"[^/]*?":"?"===v.type?"[^/]":"\\"+v.type;s=!0,i=i.slice(0,v.reStart)+O+"\\("+w}g(),o&&(i+="\\\\");var x=!1;switch(i.charAt(0)){case".":case"[":case"(":x=!0}for(var $=u.length-1;$>-1;$--){var k=u[$],M=i.slice(0,k.reStart),R=i.slice(k.reStart,k.reEnd-8),C=i.slice(k.reEnd-8,k.reEnd),_=i.slice(k.reEnd);C+=_;var L=M.split("(").length-1,N=_;for(b=0;b<L;b++)N=N.replace(/\)[+*?]?/,"");var P="";""===(_=N)&&e!==T&&(P="$"),i=M+R+_+P+C}""!==i&&s&&(i="(?=.)"+i);x&&(i=f+i);if(e===T)return[i,s];if(!s)return function(t){return t.replace(/\\(.)/g,"$1")}(t);var z=r.nocase?"i":"";try{var B=new RegExp("^"+i+"$",z)}catch(t){return new RegExp("$.")}return B._glob=t,B._src=i,B};var T={};M.makeRe=function(t,e){return new R(t,e||{}).makeRe()},R.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,r=e.noglobstar?"[^/]*?":e.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",n=e.nocase?"i":"",i=t.map((function(t){return t.map((function(t){return t===E?r:"string"==typeof t?function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(t):t._src})).join("\\/")})).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch(t){this.regexp=!1}return this.regexp},M.match=function(t,e,r){var n=new R(e,r=r||{});return t=t.filter((function(t){return n.match(t)})),n.options.nonull&&!t.length&&t.push(e),t},R.prototype.match=function(t,e){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;var r=this.options;"/"!==x.sep&&(t=t.split(x.sep).join("/"));t=t.split($),this.debug(this.pattern,"split",t);var n,i,s=this.set;for(this.debug(this.pattern,"set",s),i=t.length-1;i>=0&&!(n=t[i]);i--);for(i=0;i<s.length;i++){var o=s[i],a=t;if(r.matchBase&&1===o.length&&(a=[n]),this.matchOne(a,o,e))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate},R.prototype.matchOne=function(t,e,r){var n=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var i=0,s=0,o=t.length,a=e.length;i<o&&s<a;i++,s++){this.debug("matchOne loop");var u,c=e[s],h=t[i];if(this.debug(e,c,h),!1===c)return!1;if(c===E){this.debug("GLOBSTAR",[e,c,h]);var p=i,f=s+1;if(f===a){for(this.debug("** at the end");i<o;i++)if("."===t[i]||".."===t[i]||!n.dot&&"."===t[i].charAt(0))return!1;return!0}for(;p<o;){var l=t[p];if(this.debug("\nglobstar while",t,p,e,f,l),this.matchOne(t.slice(p),e.slice(f),r))return this.debug("globstar found match!",p,o,l),!0;if("."===l||".."===l||!n.dot&&"."===l.charAt(0)){this.debug("dot detected!",t,p,e,f);break}this.debug("globstar swallow a segment, and continue"),p++}return!(!r||(this.debug("\n>>> no match, partial?",t,p,e,f),p!==o))}if("string"==typeof c?(u=n.nocase?h.toLowerCase()===c.toLowerCase():h===c,this.debug("string match",c,h,u)):(u=h.match(c),this.debug("pattern match",c,h,u)),!u)return!1}if(i===o&&s===a)return!0;if(i===o)return r;if(s===a)return i===o-1&&""===t[i];throw new Error("wtf?")};var _=(...t)=>[...new Set([].concat(...t))];var L=(t,...e)=>{const r=new Set([].concat(...e));return t.filter((t=>!r.has(t)))};var N=t=>null==t?[]:Array.isArray(t)?t:"string"==typeof t?[t]:"function"==typeof t[Symbol.iterator]?[...t]:[t],P=(t,e,r={})=>{if(t=N(t),e=N(e),0===t.length||0===e.length)return[];let n=[];for(const i of t)for(let t of e){let e=_;"!"===t[0]&&(t=t.slice(1),e=L),n=e(n,O.match([i],t,r))}return n},z=Object.freeze(e({__proto__:null,default:P},[P]));exports.index=z;
