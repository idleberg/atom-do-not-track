"use strict";var t=require("atom"),e=require("electron");function n(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=n(require("path"));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function o(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function i(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var s={adobe:["*://cc-api-data.adobe.io/*"],metrics:["*://central.github.com/api/usage/atom"],analytics:["*://*.app-measurement.com/*","*://app-measurement.com/*","*://*.google-analytics.com/*","*://google-analytics.com/*"],tagManager:["*://*.googletagmanager.com/*","*://googletagmanager.com/*"],matomo:["*://*/*matomo.js*","*://*/*matomo.php*","*://*/*piwik.js*","*://*/*piwik.php*"],micosoft:["*://*.pipe.aria.microsoft.com/*"]};function a(t){var e={exports:{}};return t(e,e.exports),e.exports}var c=a((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultOptions=e.presets=void 0;const n={chrome:{supportedSchemes:["http","https","file","ftp"],schemeStarMatchesWs:!1},firefox:{supportedSchemes:["http","https","ws","wss","ftp","ftps","data","file"],schemeStarMatchesWs:!0}};e.presets=n;const r=Object.assign(Object.assign({},n.chrome),{strict:!0});e.defaultOptions=r})),l=function(...t){if(Array.isArray(t[0])){const[e,...n]=t;return h("")(e,...n)}{const[e]=t;return h(e)}};const u={global:"g",ignoreCase:"i",multiline:"m",dotAll:"s",sticky:"y",unicode:"u"},p=/(\\*)#(.*)/g,f=(t,e,n)=>e.length%2?e.slice(1)+"#"+n.replace(p,f):e,h=(t={})=>(e,...n)=>{let r="";e.raw.forEach(((t,e)=>{r+=t.replace(p,f).replace(/\\`/g,"`").replace(/(\\*)(\s+)/g,((t,e,n)=>" "===n[0]&&e.length%2?e.slice(1)+n[0]:e));const o=n[e];o instanceof RegExp?r+=o.source:r+=null!=o?o:""}));let o="";return"string"==typeof t?o=t:Object.entries(u).forEach((([e,n])=>{t[e]&&(o+=n)})),new RegExp(r,o)};var d=Object.defineProperty({regex:l},"__esModule",{value:!0}),g=b,m=function(t,e){return(0,d.regex)(e)`${b(t)}`};function b(t){return t.replace(/[$()*+\-.?[\\\]^{|}]/g,(t=>`\\x${t.codePointAt(0).toString(16).padStart(2,"0")}`))}var y=Object.defineProperty({regexEscape:g,exact:m},"__esModule",{value:!0}),v=function(t,e){const n=t.source.replace(/^\^?([\s\S]*?)\$?$/,"$1");return(0,d.regex)(null!=e?e:t.flags)`${n}`};var w=Object.defineProperty({unwrap:v},"__esModule",{value:!0}),x=a((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.proxy=void 0;const n=new Proxy(d.regex,{get:(t,e)=>t("_"===e?"":e),apply:(t,e,n)=>t(...n)});e.proxy=n})),$=a((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"regex",{enumerable:!0,get:function(){return d.regex}}),Object.defineProperty(e,"exact",{enumerable:!0,get:function(){return y.exact}}),Object.defineProperty(e,"regexEscape",{enumerable:!0,get:function(){return y.regexEscape}}),Object.defineProperty(e,"unwrap",{enumerable:!0,get:function(){return w.unwrap}}),Object.defineProperty(e,"proxy",{enumerable:!0,get:function(){return x.proxy}})})),k=a((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.getDummyUrl=void 0;const n=/^|$|[/?=&\-]/;e.getDummyUrl=(t,e={})=>{const{rawHost:r,rawPathAndQuery:o}=t,{defaultScheme:i="https",subdomain:s="",pathAndQueryReplacer:a="",rootDomain:c="example.com",strict:l=!0}=e;let u;const p="*"===t.scheme?i:t.scheme;u="file"===p?"":"*"===r?[s,c].filter(Boolean).join("."):r.replace(/^\*./,s?`${s}.`:"");const f=(l?o:"/*").replace(/\*/g,`-${a}-`).replace((0,$.regex)("g")`-+(${n})`,"$1").replace((0,$.regex)("g")`(${n})-+`,"$1").replace(/\/+/g,"/");try{return new URL(`${p}://${u}${f}`)}catch(t){return null}}})),j=a((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.getPatternSegments=void 0;const n=$.regex`
	^
		(\*|\w+)      # scheme
		://
		(
			\*     |  # Any host
			[^/]*     # Only the given host (optional only if scheme is file)
		)
		(/.*)         # path
	$
`;e.getPatternSegments=t=>{if("<all_urls>"===t)return{pattern:t,scheme:"*",rawHost:"*",rawPathAndQuery:"/*"};const e=t.match(n);if(!e)return null;const[,r,o,i]=e;return{pattern:t,scheme:r,rawHost:o,rawPathAndQuery:i}}})),E=a((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.getExampleUrls=void 0;e.getExampleUrls=(t,e)=>{const n=(0,j.getPatternSegments)(t),{supportedSchemes:r,strict:o}=e,i=["","www","foo.bar"],s=["example.com"],a=["","foo","/bar/baz/"],c=r.flatMap((t=>i.flatMap((e=>s.flatMap((r=>a.flatMap((i=>(0,k.getDummyUrl)(n,{defaultScheme:t,subdomain:e,rootDomain:r,pathAndQueryReplacer:i,strict:o})))))))));return[...new Set(c.filter(Boolean).map((t=>t.href)))]}})),O=a((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ALL_URLS=void 0;e.ALL_URLS="<all_urls>"})),M=a((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.getHostRegex=void 0;e.getHostRegex=t=>{const{pattern:e,scheme:n,rawHost:r}=t;if(!r&&"file"!==n)return new Error('Host is optional only if the scheme is "file".');const o=r.includes("*");if(o){const t=r.split("*.");if(r.length>1&&(2!==t.length||t[0]||!t[1]))return new Error('Host can contain only one wildcard at the start, in the form "*.<host segments>"')}const i=(0,k.getDummyUrl)(t,{subdomain:""});if(!i)return new Error(`Pattern "${e}" cannot be used to construct a valid URL.`);const s=i.host;if(/:\d+$/.test(s))return new Error(`Host "${r}" cannot include a port number. All ports are matched by default.`);if(/[^.a-z0-9\-]/.test(s))return new Error(`Host "${r}" contains invalid characters.`);const a=o?"*."+s:s;return"*"===r?/.+/:a.startsWith("*.")?$.regex`
			^
				(?:[^.]+\.)*     # any number of dot-terminated segments
				${(0,$.regexEscape)(a.slice(2))}   # rest after leading *.
			$
		`:$.regex`^${(0,$.regexEscape)(a)}$`}})),S=a((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.createMatchFn=e.normalizeUrlFragment=void 0;const n=t=>{try{return encodeURI(decodeURI(t))}catch(t){return t}};e.normalizeUrlFragment=n;e.createMatchFn=t=>e=>{let r;try{const t=e instanceof URL?e.href:e;r=new URL(t);const o=n(r.pathname),i=n(r.search);if(o instanceof Error||i instanceof Error)return!1;r.pathname=o,r.href.endsWith("?")||(r.search=i)}catch(t){return!1}return t(r)}})),_=a((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.toMatchFnOrError=void 0;e.toMatchFnOrError=(t,e)=>{const{supportedSchemes:n,schemeStarMatchesWs:r,strict:o}=e;if(t===O.ALL_URLS)return(0,S.createMatchFn)((t=>$.regex`
				^
					(?:${n.map($.regexEscape).join("|")})
					:
				$
			`.test(t.protocol)));const i=(0,j.getPatternSegments)(t);if(!i)return new Error(`Pattern "${t}" is invalid`);const{scheme:s,rawPathAndQuery:a}=i;if("*"!==s&&!n.includes(s))return new Error(`Scheme "${s}" is not supported`);const c=$.regex`${"*"===s?["https?",r&&"wss?"].filter(Boolean).join("|"):s}:`,l=(0,M.getHostRegex)(i);if(l instanceof Error)return l;const u=o?(0,S.normalizeUrlFragment)(a):"/*";if(u instanceof Error)return u;const p=$.regex`^${u.split("*").map((t=>(0,$.regexEscape)(t))).join(".*")}$`;return(0,S.createMatchFn)((t=>{const e=t.pathname+(t.href.endsWith("?")?"?":t.search);return c.test(t.protocol)&&l.test(t.host)&&p.test(e)}))}})),A=a((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.matchPattern=e.matchPatternWithConfig=void 0;const n=t=>e=>{const n=Object.assign(Object.assign({},c.defaultOptions),t),r=(0,_.toMatchFnOrError)(e,n);return r instanceof Error?{valid:!1,error:r,match:()=>!1,get examples(){return[]},pattern:e,config:n}:{valid:!0,match:r,get examples(){return(0,E.getExampleUrls)(e,n).filter((t=>r(t))).slice(0,100)},pattern:e,config:n}};e.matchPatternWithConfig=n;const r=n({});e.matchPattern=r})),P=a((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"matchPattern",{enumerable:!0,get:function(){return A.matchPattern}}),Object.defineProperty(e,"matchPatternWithConfig",{enumerable:!0,get:function(){return A.matchPatternWithConfig}}),Object.defineProperty(e,"presets",{enumerable:!0,get:function(){return c.presets}})}));function R(t){return t?atom.config.get("do-not-track."+t):atom.config.get("do-not-track")}function C(){}function U(t){return t()}function L(){return Object.create(null)}function z(t){t.forEach(U)}function T(t){return"function"==typeof t}function N(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function D(t,e){t.appendChild(e)}function I(t,e,n){t.insertBefore(e,n||null)}function B(t){t.parentNode.removeChild(t)}function H(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function W(t){return document.createElement(t)}function F(t){return document.createTextNode(t)}function q(){return F(" ")}function G(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function Q(t){return function(e){return e.preventDefault(),t.call(this,e)}}function J(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Z(t,e,n){e in t?t[e]=n:J(t,e,n)}function V(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}let K;function X(t){K=t}function Y(t){(function(){if(!K)throw new Error("Function called outside component initialization");return K})().$$.on_destroy.push(t)}const tt=[],et=[],nt=[],rt=[],ot=Promise.resolve();let it=!1;function st(t){nt.push(t)}let at=!1;const ct=new Set;function lt(){if(!at){at=!0;do{for(let t=0;t<tt.length;t+=1){const e=tt[t];X(e),ut(e.$$)}for(X(null),tt.length=0;et.length;)et.pop()();for(let t=0;t<nt.length;t+=1){const e=nt[t];ct.has(e)||(ct.add(e),e())}nt.length=0}while(tt.length);for(;rt.length;)rt.pop()();it=!1,at=!1,ct.clear()}}function ut(t){if(null!==t.fragment){t.update(),z(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(st)}}const pt=new Set;let ft;function ht(){ft={r:0,c:[],p:ft}}function dt(){ft.r||z(ft.c),ft=ft.p}function gt(t,e){t&&t.i&&(pt.delete(t),t.i(e))}function mt(t,e,n,r){if(t&&t.o){if(pt.has(t))return;pt.add(t),ft.c.push((()=>{pt.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const bt="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function yt(t){t&&t.c()}function vt(t,e,n,r){const{fragment:o,on_mount:i,on_destroy:s,after_update:a}=t.$$;o&&o.m(e,n),r||st((()=>{const e=i.map(U).filter(T);s?s.push(...e):z(e),t.$$.on_mount=[]})),a.forEach(st)}function wt(t,e){const n=t.$$;null!==n.fragment&&(z(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function xt(t,e){-1===t.$$.dirty[0]&&(tt.push(t),it||(it=!0,ot.then(lt)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function $t(t,e,n,r,o,i,s=[-1]){const a=K;X(t);const c=t.$$={fragment:null,ctx:null,props:i,update:C,not_equal:o,bound:L(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:e.context||[]),callbacks:L(),dirty:s,skip_bound:!1};let l=!1;if(c.ctx=n?n(t,e.props||{},((e,n,...r)=>{const i=r.length?r[0]:n;return c.ctx&&o(c.ctx[e],c.ctx[e]=i)&&(!c.skip_bound&&c.bound[e]&&c.bound[e](i),l&&xt(t,e)),n})):[],c.update(),l=!0,z(c.before_update),c.fragment=!!r&&r(c.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);c.fragment&&c.fragment.l(t),t.forEach(B)}else c.fragment&&c.fragment.c();e.intro&&gt(t.$$.fragment),vt(t,e.target,e.anchor,e.customElement),lt()}X(a)}class kt{$destroy(){wt(this,1),this.$destroy=C}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const jt=[];var Et=function(t,e=C){let n;const r=[];function o(e){if(N(t,e)&&(t=e,n)){const e=!jt.length;for(let e=0;e<r.length;e+=1){const n=r[e];n[1](),jt.push(n,t)}if(e){for(let t=0;t<jt.length;t+=2)jt[t][0](jt[t+1]);jt.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(i,s=C){const a=[i,s];return r.push(a),1===r.length&&(n=e(o)||C),i(t),()=>{const t=r.indexOf(a);-1!==t&&r.splice(t,1),0===r.length&&(n(),n=null)}}}}({counter:0,buttonClass:"subtle",services:{adobe:{counter:0,name:"Adobe Data API",shortName:"Adobe"},metrics:{counter:0,name:"Atom Metrics",shortName:"Metrics"},analytics:{counter:0,name:"Google Analytics",shortName:"Analytics"},tagManager:{counter:0,name:"Google Tag Manager",shortName:"Tag Manager"},matomo:{counter:0,name:"Matomo/Piwik",shortName:"Matomo/Piwik"},microsoft:{counter:0,name:"Microsoft",shortName:"Microsoft"},others:{counter:0,name:"Others",shortName:"Others"}},customUrls:function(){var t=localStorage.getItem("do-not-track:custom-urls")||"[]";try{return JSON.parse(t)}catch(t){return[]}}()}),Ot=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},Mt=St;function St(t,e,n){t instanceof RegExp&&(t=_t(t,n)),e instanceof RegExp&&(e=_t(e,n));var r=At(t,e,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+t.length,r[1]),post:n.slice(r[1]+e.length)}}function _t(t,e){var n=e.match(t);return n?n[0]:null}function At(t,e,n){var r,o,i,s,a,c=n.indexOf(t),l=n.indexOf(e,c+1),u=c;if(c>=0&&l>0){if(t===e)return[c,l];for(r=[],i=n.length;u>=0&&!a;)u==c?(r.push(u),c=n.indexOf(t,u+1)):1==r.length?a=[r.pop(),l]:((o=r.pop())<i&&(i=o,s=l),l=n.indexOf(e,u+1)),u=c<l&&c>=0?c:l;r.length&&(a=[i,s])}return a}St.range=At;var Pt=function(t){if(!t)return[];"{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2));return Ft(function(t){return t.split("\\\\").join(Rt).split("\\{").join(Ct).split("\\}").join(Ut).split("\\,").join(Lt).split("\\.").join(zt)}(t),!0).map(Nt)},Rt="\0SLASH"+Math.random()+"\0",Ct="\0OPEN"+Math.random()+"\0",Ut="\0CLOSE"+Math.random()+"\0",Lt="\0COMMA"+Math.random()+"\0",zt="\0PERIOD"+Math.random()+"\0";function Tt(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function Nt(t){return t.split(Rt).join("\\").split(Ct).join("{").split(Ut).join("}").split(Lt).join(",").split(zt).join(".")}function Dt(t){if(!t)return[""];var e=[],n=Mt("{","}",t);if(!n)return t.split(",");var r=n.pre,o=n.body,i=n.post,s=r.split(",");s[s.length-1]+="{"+o+"}";var a=Dt(i);return i.length&&(s[s.length-1]+=a.shift(),s.push.apply(s,a)),e.push.apply(e,s),e}function It(t){return"{"+t+"}"}function Bt(t){return/^-?0\d/.test(t)}function Ht(t,e){return t<=e}function Wt(t,e){return t>=e}function Ft(t,e){var n=[],r=Mt("{","}",t);if(!r||/\$$/.test(r.pre))return[t];var o,i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),s=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),a=i||s,c=r.body.indexOf(",")>=0;if(!a&&!c)return r.post.match(/,.*\}/)?Ft(t=r.pre+"{"+r.body+Ut+r.post):[t];if(a)o=r.body.split(/\.\./);else if(1===(o=Dt(r.body)).length&&1===(o=Ft(o[0],!1).map(It)).length)return(p=r.post.length?Ft(r.post,!1):[""]).map((function(t){return r.pre+o[0]+t}));var l,u=r.pre,p=r.post.length?Ft(r.post,!1):[""];if(a){var f=Tt(o[0]),h=Tt(o[1]),d=Math.max(o[0].length,o[1].length),g=3==o.length?Math.abs(Tt(o[2])):1,m=Ht;h<f&&(g*=-1,m=Wt);var b=o.some(Bt);l=[];for(var y=f;m(y,h);y+=g){var v;if(s)"\\"===(v=String.fromCharCode(y))&&(v="");else if(v=String(y),b){var w=d-v.length;if(w>0){var x=new Array(w+1).join("0");v=y<0?"-"+x+v.slice(1):x+v}}l.push(v)}}else l=function(t,e){for(var n=[],r=0;r<t.length;r++){var o=e(t[r],r);Ot(o)?n.push.apply(n,o):n.push(o)}return n}(o,(function(t){return Ft(t,!1)}));for(var $=0;$<l.length;$++)for(var k=0;k<p.length;k++){var j=u+l[$]+p[k];(!e||a||j)&&n.push(j)}return n}var qt=Xt;Xt.Minimatch=Yt;var Gt={sep:"/"};try{Gt=r.default}catch(t){}var Qt=Xt.GLOBSTAR=Yt.GLOBSTAR={},Jt={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},Zt="().*{}+?[]^$\\!".split("").reduce((function(t,e){return t[e]=!0,t}),{});var Vt=/\/+/;function Kt(t,e){t=t||{},e=e||{};var n={};return Object.keys(e).forEach((function(t){n[t]=e[t]})),Object.keys(t).forEach((function(e){n[e]=t[e]})),n}function Xt(t,e,n){if("string"!=typeof e)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===e.charAt(0))&&(""===e.trim()?""===t:new Yt(e,n).match(t))}function Yt(t,e){if(!(this instanceof Yt))return new Yt(t,e);if("string"!=typeof t)throw new TypeError("glob pattern string required");e||(e={}),t=t.trim(),"/"!==Gt.sep&&(t=t.split(Gt.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function te(t,e){if(e||(e=this instanceof Yt?this.options:{}),void 0===(t=void 0===t?this.pattern:t))throw new TypeError("undefined pattern");return e.nobrace||!t.match(/\{.*\}/)?[t]:Pt(t)}Xt.filter=function(t,e){return e=e||{},function(n,r,o){return Xt(n,t,e)}},Xt.defaults=function(t){if(!t||!Object.keys(t).length)return Xt;var e=Xt,n=function(n,r,o){return e.minimatch(n,r,Kt(t,o))};return n.Minimatch=function(n,r){return new e.Minimatch(n,Kt(t,r))},n},Yt.defaults=function(t){return t&&Object.keys(t).length?Xt.defaults(t).Minimatch:Yt},Yt.prototype.debug=function(){},Yt.prototype.make=function(){if(this._made)return;var t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error);this.debug(this.pattern,n),n=this.globParts=n.map((function(t){return t.split(Vt)})),this.debug(this.pattern,n),n=n.map((function(t,e,n){return t.map(this.parse,this)}),this),this.debug(this.pattern,n),n=n.filter((function(t){return-1===t.indexOf(!1)})),this.debug(this.pattern,n),this.set=n},Yt.prototype.parseNegate=function(){var t=this.pattern,e=!1,n=this.options,r=0;if(n.nonegate)return;for(var o=0,i=t.length;o<i&&"!"===t.charAt(o);o++)e=!e,r++;r&&(this.pattern=t.substr(r));this.negate=e},Xt.braceExpand=function(t,e){return te(t,e)},Yt.prototype.braceExpand=te,Yt.prototype.parse=function(t,e){if(t.length>65536)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&"**"===t)return Qt;if(""===t)return"";var r,o="",i=!!n.nocase,s=!1,a=[],c=[],l=!1,u=-1,p=-1,f="."===t.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",h=this;function d(){if(r){switch(r){case"*":o+="[^/]*?",i=!0;break;case"?":o+="[^/]",i=!0;break;default:o+="\\"+r}h.debug("clearStateChar %j %j",r,o),r=!1}}for(var g,m=0,b=t.length;m<b&&(g=t.charAt(m));m++)if(this.debug("%s\t%s %s %j",t,m,o,g),s&&Zt[g])o+="\\"+g,s=!1;else switch(g){case"/":return!1;case"\\":d(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,m,o,g),l){this.debug("  in class"),"!"===g&&m===p+1&&(g="^"),o+=g;continue}h.debug("call clearStateChar %j",r),d(),r=g,n.noext&&d();continue;case"(":if(l){o+="(";continue}if(!r){o+="\\(";continue}a.push({type:r,start:m-1,reStart:o.length,open:Jt[r].open,close:Jt[r].close}),o+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,o),r=!1;continue;case")":if(l||!a.length){o+="\\)";continue}d(),i=!0;var y=a.pop();o+=y.close,"!"===y.type&&c.push(y),y.reEnd=o.length;continue;case"|":if(l||!a.length||s){o+="\\|",s=!1;continue}d(),o+="|";continue;case"[":if(d(),l){o+="\\"+g;continue}l=!0,p=m,u=o.length,o+=g;continue;case"]":if(m===p+1||!l){o+="\\"+g,s=!1;continue}if(l){var v=t.substring(p+1,m);try{RegExp("["+v+"]")}catch(t){var w=this.parse(v,ee);o=o.substr(0,u)+"\\["+w[0]+"\\]",i=i||w[1],l=!1;continue}}i=!0,l=!1,o+=g;continue;default:d(),s?s=!1:!Zt[g]||"^"===g&&l||(o+="\\"),o+=g}l&&(v=t.substr(p+1),w=this.parse(v,ee),o=o.substr(0,u)+"\\["+w[0],i=i||w[1]);for(y=a.pop();y;y=a.pop()){var x=o.slice(y.reStart+y.open.length);this.debug("setting tail",o,y),x=x.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(t,e,n){return n||(n="\\"),e+e+n+"|"})),this.debug("tail=%j\n   %s",x,x,y,o);var $="*"===y.type?"[^/]*?":"?"===y.type?"[^/]":"\\"+y.type;i=!0,o=o.slice(0,y.reStart)+$+"\\("+x}d(),s&&(o+="\\\\");var k=!1;switch(o.charAt(0)){case".":case"[":case"(":k=!0}for(var j=c.length-1;j>-1;j--){var E=c[j],O=o.slice(0,E.reStart),M=o.slice(E.reStart,E.reEnd-8),S=o.slice(E.reEnd-8,E.reEnd),_=o.slice(E.reEnd);S+=_;var A=O.split("(").length-1,P=_;for(m=0;m<A;m++)P=P.replace(/\)[+*?]?/,"");var R="";""===(_=P)&&e!==ee&&(R="$"),o=O+M+_+R+S}""!==o&&i&&(o="(?=.)"+o);k&&(o=f+o);if(e===ee)return[o,i];if(!i)return function(t){return t.replace(/\\(.)/g,"$1")}(t);var C=n.nocase?"i":"";try{var U=new RegExp("^"+o+"$",C)}catch(t){return new RegExp("$.")}return U._glob=t,U._src=o,U};var ee={};Xt.makeRe=function(t,e){return new Yt(t,e||{}).makeRe()},Yt.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,n=e.noglobstar?"[^/]*?":e.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=e.nocase?"i":"",o=t.map((function(t){return t.map((function(t){return t===Qt?n:"string"==typeof t?function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(t):t._src})).join("\\/")})).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,r)}catch(t){this.regexp=!1}return this.regexp},Xt.match=function(t,e,n){var r=new Yt(e,n=n||{});return t=t.filter((function(t){return r.match(t)})),r.options.nonull&&!t.length&&t.push(e),t},Yt.prototype.match=function(t,e){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;var n=this.options;"/"!==Gt.sep&&(t=t.split(Gt.sep).join("/"));t=t.split(Vt),this.debug(this.pattern,"split",t);var r,o,i=this.set;for(this.debug(this.pattern,"set",i),o=t.length-1;o>=0&&!(r=t[o]);o--);for(o=0;o<i.length;o++){var s=i[o],a=t;if(n.matchBase&&1===s.length&&(a=[r]),this.matchOne(a,s,e))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},Yt.prototype.matchOne=function(t,e,n){var r=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var o=0,i=0,s=t.length,a=e.length;o<s&&i<a;o++,i++){this.debug("matchOne loop");var c,l=e[i],u=t[o];if(this.debug(e,l,u),!1===l)return!1;if(l===Qt){this.debug("GLOBSTAR",[e,l,u]);var p=o,f=i+1;if(f===a){for(this.debug("** at the end");o<s;o++)if("."===t[o]||".."===t[o]||!r.dot&&"."===t[o].charAt(0))return!1;return!0}for(;p<s;){var h=t[p];if(this.debug("\nglobstar while",t,p,e,f,h),this.matchOne(t.slice(p),e.slice(f),n))return this.debug("globstar found match!",p,s,h),!0;if("."===h||".."===h||!r.dot&&"."===h.charAt(0)){this.debug("dot detected!",t,p,e,f);break}this.debug("globstar swallow a segment, and continue"),p++}return!(!n||(this.debug("\n>>> no match, partial?",t,p,e,f),p!==s))}if("string"==typeof l?(c=r.nocase?u.toLowerCase()===l.toLowerCase():u===l,this.debug("string match",l,u,c)):(c=u.match(l),this.debug("pattern match",l,u,c)),!c)return!1}if(o===s&&i===a)return!0;if(o===s)return n;if(i===a)return o===s-1&&""===t[o];throw new Error("wtf?")};var ne=(...t)=>[...new Set([].concat(...t))];var re=(t,...e)=>{const n=new Set([].concat(...e));return t.filter((t=>!n.has(t)))};var oe=t=>null==t?[]:Array.isArray(t)?t:"string"==typeof t?[t]:"function"==typeof t[Symbol.iterator]?[...t]:[t],ie=(t,e,n={})=>{if(t=oe(t),e=oe(e),0===t.length||0===e.length)return[];let r=[];for(const o of t)for(let t of e){let e=ne;"!"===t[0]&&(t=t.slice(1),e=re),r=e(r,qt.match([o],t,n))}return r};function se(){var t,n,r,o=(n=[],(r=R("defaultTracking")).adobe&&n.push.apply(n,s.adobe),r.metrics&&n.push.apply(n,s.metrics),r.analytics&&n.push.apply(n,s.analytics),r.tagManager&&n.push.apply(n,s.tagManager),r.matomo&&n.push.apply(n,s.matomo),r.microsoft&&n.push.apply(n,s.microsoft),Et.subscribe((function(e){t=e.customUrls})),t.length&&n.push.apply(n,t),{urls:n});e.remote.session.defaultSession.webRequest.onBeforeSendHeaders(o,(function(t,e){console.log("Connection blocked",t),function(t){Et.update((function(e){switch(e.counter+=1,e.buttonClass="error",!0){case ie(t.url,s.adobe).length>0:e.services.adobe.counter+=1;break;case ie(t.url,s.metrics).length>0:e.services.metrics.counter+=1;break;case ie(t.url,s.analytics).length>0:e.services.analytics.counter+=1;break;case ie(t.url,s.tagManager).length>0:e.services.tagManager.counter+=1;break;case ie(t.url,s.matomo).length>0:case t.url.includes("matomo.js"):case t.url.includes("matomo.php"):case t.url.includes("piwik.js"):case t.url.includes("piwik.php"):e.services.matomo.counter+=1;break;case ie(t.url,s.microsoft).length>0:e.services.microsoft.counter+=1;break;default:e.services.others.counter+=1}return e}))}(t),e({cancel:!0})}))}function ae(t){let e,n;return{c(){e=W("div"),n=F(t[1]),J(e,"class","inline-block")},m(t,r){I(t,e,r),D(e,n)},p(t,e){2&e&&V(n,t[1])},d(t){t&&B(e)}}}function ce(t){let e,n,r;return{c(){e=W("code"),n=F(t[1]),J(e,"class",r="inline-block "+ue(t[1]))},m(t,r){I(t,e,r),D(e,n)},p(t,o){2&o&&V(n,t[1]),2&o&&r!==(r="inline-block "+ue(t[1]))&&J(e,"class",r)},d(t){t&&B(e)}}}function le(t){let e,n,r,o,i,s;function a(t,e){return t[2]?ce:ae}let c=a(t),l=c(t);return{c(){e=W("list-item"),n=W("div"),r=F(t[0]),o=q(),i=W("divider"),s=q(),l.c(),J(n,"class","inline-block"),J(i,"class","svelte-3h6cae"),Z(e,"class","svelte-3h6cae")},m(t,a){I(t,e,a),D(e,n),D(n,r),D(e,o),D(e,i),D(e,s),l.m(e,null)},p(t,[n]){1&n&&V(r,t[0]),c===(c=a(t))&&l?l.p(t,n):(l.d(1),l=c(t),l&&(l.c(),l.m(e,null)))},i:C,o:C,d(t){t&&B(e),l.d()}}}function ue(t){switch(!0){case parseInt(t,10)>=100:return"highlight-error";case parseInt(t,10)>=25:return"highlight-warning";default:return"highlight-info"}}function pe(t,e,n){let{name:r}=e,{counter:o}=e,{highlight:i}=e;return t.$$set=t=>{"name"in t&&n(0,r=t.name),"counter"in t&&n(1,o=t.counter),"highlight"in t&&n(2,i=t.highlight)},[r,o,i]}class fe extends kt{constructor(t){var e;super(),document.getElementById("svelte-3h6cae-style")||((e=W("style")).id="svelte-3h6cae-style",e.textContent="list-item.svelte-3h6cae{display:flex;justify-content:space-between;line-height:1.5;margin-bottom:5px;margin-top:5px}divider.svelte-3h6cae{border-top:1px dashed;flex:1 1 0;margin-right:10px;margin-top:.80em;vertical-align:center}",D(document.head,e)),$t(this,t,pe,le,N,{name:0,counter:1,highlight:2})}}const{document:he}=bt;function de(t,e,n){const r=t.slice();return r[8]=e[n],r}function ge(t,e,n){const r=t.slice();return r[11]=e[n],r}function me(t){let e,n;return e=new fe({props:{name:t[0][t[11]].name,counter:t[0][t[11]].counter,highlight:!0}}),{c(){yt(e.$$.fragment)},m(t,r){vt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.name=t[0][t[11]].name),1&n&&(r.counter=t[0][t[11]].counter),e.$set(r)},i(t){n||(gt(e.$$.fragment,t),n=!0)},o(t){mt(e.$$.fragment,t),n=!1},d(t){wt(e,t)}}}function be(t){let e,n,r,o,i,s,a,c,l,u=t[8]+"";return{c(){e=W("li"),n=W("button"),r=q(),o=W("span"),i=F(u),s=q(),J(n,"aria-label","Remove URL from list"),J(n,"class","btn btn-xs icon icon-remove-close"),J(o,"class","text-info"),J(e,"class","list-item svelte-pw7z87"),J(e,"title",a=t[8])},m(a,u){I(a,e,u),D(e,n),D(e,r),D(e,o),D(o,i),D(e,s),c||(l=G(n,"click",t[4]),c=!0)},p(t,n){2&n&&u!==(u=t[8]+"")&&V(i,u),2&n&&a!==(a=t[8])&&J(e,"title",a)},d(t){t&&B(e),c=!1,l()}}}function ye(t){let e,n,r,o,i,s,a,c,l,u,p,f,h,d,g,m,b,y,v,w,x,$,k,j,E,O=Object.keys(t[0]),M=[];for(let e=0;e<O.length;e+=1)M[e]=me(ge(t,O,e));const S=t=>mt(M[t],1,1,(()=>{M[t]=null}));let _=t[1],A=[];for(let e=0;e<_.length;e+=1)A[e]=be(de(t,_,e));return{c(){e=W("section"),n=W("div"),r=W("atom-panel"),o=W("div"),i=W("div"),i.textContent="Blocked Connections",s=q(),a=W("div");for(let t=0;t<M.length;t+=1)M[t].c();c=q(),l=W("div"),u=W("atom-panel"),p=W("div"),f=W("div"),f.textContent="Custom URLs",h=q(),d=W("div"),g=W("p"),g.innerHTML='Here you can add match patterns for URLs. These consist of three parts: scheme, host, and path. The scheme and host are separated by <code>://</code>.\n            See the <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/Match_patterns">MDN documentation</a> for details.',m=q(),b=W("form"),y=W("atom-text-editor"),v=q(),w=W("button"),x=q(),$=W("ul");for(let t=0;t<A.length;t+=1)A[t].c();J(i,"class","panel-heading"),J(a,"class","panel-body padded"),J(o,"class","inset-panel"),J(n,"class","block"),J(f,"class","panel-heading"),Z(y,"id","url-input"),Z(y,"class","editor mini svelte-pw7z87"),Z(y,"mini",""),Z(y,"data-grammar","text plain null-grammar"),Z(y,"placeholder","<scheme>://<host>/<path>"),J(w,"type","submit"),J(w,"aria-label","Add URL to list"),J(w,"class","btn icon icon-gist-new"),J(b,"class","svelte-pw7z87"),J($,"class","list-group"),J(d,"class","panel-body padded"),J(p,"class","inset-panel"),J(l,"class","block"),J(e,"class","svelte-pw7z87")},m(O,S){I(O,e,S),D(e,n),D(n,r),D(r,o),D(o,i),D(o,s),D(o,a);for(let t=0;t<M.length;t+=1)M[t].m(a,null);D(e,c),D(e,l),D(l,u),D(u,p),D(p,f),D(p,h),D(p,d),D(d,g),D(d,m),D(d,b),D(b,y),D(b,v),D(b,w),D(d,x),D(d,$);for(let t=0;t<A.length;t+=1)A[t].m($,null);k=!0,j||(E=[G(y,"keyup",Q(t[3])),G(b,"submit",Q(t[2]))],j=!0)},p(t,[e]){if(1&e){let n;for(O=Object.keys(t[0]),n=0;n<O.length;n+=1){const r=ge(t,O,n);M[n]?(M[n].p(r,e),gt(M[n],1)):(M[n]=me(r),M[n].c(),gt(M[n],1),M[n].m(a,null))}for(ht(),n=O.length;n<M.length;n+=1)S(n);dt()}if(18&e){let n;for(_=t[1],n=0;n<_.length;n+=1){const r=de(t,_,n);A[n]?A[n].p(r,e):(A[n]=be(r),A[n].c(),A[n].m($,null))}for(;n<A.length;n+=1)A[n].d(1);A.length=_.length}},i(t){if(!k){for(let t=0;t<O.length;t+=1)gt(M[t]);k=!0}},o(t){M=M.filter(Boolean);for(let t=0;t<M.length;t+=1)mt(M[t]);k=!1},d(t){t&&B(e),H(M,t),H(A,t),j=!1,z(E)}}}function ve(t,e,n){let r,o;function i(){!function(t){if(!t.trim().length||!function(t){var e=P.matchPattern(t).valid;return e||atom.notifications.addError("Invalid URL match pattern. [Need help?](https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/Match_patterns#examples)"),e}(t))return!1;if(!o.includes(t.trim()))return o.push(t.trim()),s(o),!0}(document.querySelector("#url-input .line .syntax--text").innerText)}function s(t){const e=t;Et.update((e=>(e.customUrls=t,e)));try{se()}catch(t){Et.update((t=>(t.customUrls=e,t)))}!function(t){localStorage.setItem("do-not-track:custom-urls",JSON.stringify(t))}(t)}return Y(Et.subscribe((t=>{n(0,r=t.services),n(1,o=t.customUrls)}))),[r,o,i,function(t){"Enter"==t.code&&i()},function(t){const e=t.target.parentNode.innerText.trim(),n=o.indexOf(e);n<0||(o.splice(n,1),s(o))}]}class we extends kt{constructor(t){var e;super(),he.getElementById("svelte-pw7z87-style")||((e=W("style")).id="svelte-pw7z87-style",e.textContent="section.svelte-pw7z87.svelte-pw7z87{padding:5px}form.svelte-pw7z87.svelte-pw7z87{display:flex;margin-bottom:1em}form.svelte-pw7z87 atom-text-editor.svelte-pw7z87{flex-grow:1}li.svelte-pw7z87.svelte-pw7z87{text-overflow:ellipsis;overflow:hidden}",D(he.head,e)),$t(this,t,ve,ye,N,{})}}var xe=function(){function e(){this.subscriptions=new t.CompositeDisposable,this.init()}return e.prototype.getTitle=function(){return"Do Not Track"},e.prototype.getURI=function(){return"atom://do-not-track/settings"},e.prototype.getDefaultLocation=function(){return String(R("interfaceAlignment"))},e.prototype.getElement=function(){var t=document.createElement("do-not-track-settings");return new we({target:t}),t},e.prototype.getIconName=function(){return"stop"},e.prototype.getDock=function(){return"left"===R("interfaceAlignment")?atom.workspace.getLeftDock():atom.workspace.getRightDock()},e.prototype.init=function(){atom.workspace.open(this,{activatePane:!1,activateItem:!1})},e.prototype.show=function(){this.getDock().show()},e.prototype.hide=function(){this.getDock().hide()},e.prototype.toggle=function(){atom.workspace.toggle(this)},e.prototype.destroy=function(){(null==this?void 0:this.subscriptions)&&this.subscriptions.dispose()},e}(),$e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function ke(){if("function"==typeof this.destroy)this.destroy();else if("function"==typeof this.stop)this.stop();else if("function"==typeof this.kill)this.kill();else{if("function"!=typeof this.end)throw new Error("Unable to dispose object");this.end()}}var je=function(t){return"object"===(void 0===t?"undefined":$e(t))&&"function"!=typeof t.dispose&&Object.defineProperty(t,"dispose",{enumerable:!1,configurable:!1,writable:!1,value:ke}),t};function Ee(t,e,n){const r=t.slice();return r[2]=e[n],r}function Oe(t){let e,n;return e=new fe({props:{name:t[0][t[2]].shortName,counter:t[0][t[2]].counter}}),{c(){yt(e.$$.fragment)},m(t,r){vt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.name=t[0][t[2]].shortName),1&n&&(r.counter=t[0][t[2]].counter),e.$set(r)},i(t){n||(gt(e.$$.fragment,t),n=!0)},o(t){mt(e.$$.fragment,t),n=!1},d(t){wt(e,t)}}}function Me(t){let e,n,r,o,i,s=Object.keys(t[0]),a=[];for(let e=0;e<s.length;e+=1)a[e]=Oe(Ee(t,s,e));const c=t=>mt(a[t],1,1,(()=>{a[t]=null}));return{c(){e=W("section"),n=W("p"),n.innerHTML="<strong>Blocked Connections</strong>",r=q(),o=W("div");for(let t=0;t<a.length;t+=1)a[t].c();J(o,"class","list-group"),J(e,"class","svelte-1yn2hhz")},m(t,s){I(t,e,s),D(e,n),D(e,r),D(e,o);for(let t=0;t<a.length;t+=1)a[t].m(o,null);i=!0},p(t,[e]){if(1&e){let n;for(s=Object.keys(t[0]),n=0;n<s.length;n+=1){const r=Ee(t,s,n);a[n]?(a[n].p(r,e),gt(a[n],1)):(a[n]=Oe(r),a[n].c(),gt(a[n],1),a[n].m(o,null))}for(ht(),n=s.length;n<a.length;n+=1)c(n);dt()}},i(t){if(!i){for(let t=0;t<s.length;t+=1)gt(a[t]);i=!0}},o(t){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)mt(a[t]);i=!1},d(t){t&&B(e),H(a,t)}}}function Se(t,e,n){let r;return Y(Et.subscribe((t=>{n(0,r=t.services)}))),[r]}class _e extends kt{constructor(t){var e;super(),document.getElementById("svelte-1yn2hhz-style")||((e=W("style")).id="svelte-1yn2hhz-style",e.textContent="section.svelte-1yn2hhz{color:inherit}",D(document.head,e)),$t(this,t,Se,Me,N,{})}}function Ae(t){let e,n,r,o,i,s,a,c=(t[2]&&0!==t[1]?t[1]:"")+"";return{c(){e=W("button"),n=W("span"),r=q(),o=F(c),J(n,"class","icon icon-stop"),J(e,"class",i="inline-block text-"+t[0]+" svelte-d30rb6")},m(t,i){I(t,e,i),D(e,n),D(e,r),D(e,o),s||(a=G(e,"click",Pe),s=!0)},p(t,[n]){6&n&&c!==(c=(t[2]&&0!==t[1]?t[1]:"")+"")&&V(o,c),1&n&&i!==(i="inline-block text-"+t[0]+" svelte-d30rb6")&&J(e,"class",i)},i:C,o:C,d(t){t&&B(e),s=!1,a()}}}function Pe(){const t=atom.workspace.getActivePane(),e=atom.views.getView(t);atom.commands.dispatch(e,"do-not-track:toggle-settings")}function Re(t,e,n){let r,o;const i=Et.subscribe((t=>{n(0,r=t.buttonClass),n(1,o=t.counter)}));let s=R("alwaysShowCounter");return atom.config.observe("do-not-track.alwaysShowCounter",(t=>{n(2,s=t)})),Y(i),[r,o,s]}class Ce extends kt{constructor(t){var e;super(),document.getElementById("svelte-d30rb6-style")||((e=W("style")).id="svelte-d30rb6-style",e.textContent="button.svelte-d30rb6{background-color:inherit;border:none}",D(document.head,e)),$t(this,t,Re,Ae,N,{})}}var Ue=function(){function e(){this.subscriptions=new t.CompositeDisposable}return e.prototype.attach=function(t){var e="left"===R("interfaceAlignment")?"addLeftTile":"addRightTile";this.subscriptions.add(je(t[e]({item:this.render(),priority:100})))},e.prototype.render=function(){var t=document.createElement("do-not-track-button"),e=document.createElement("div");return atom.tooltips.add(t,{item:e}),new _e({target:e}),new Ce({target:t}),t},e}(),Le={config:{interfaceAlignment:{title:"Interface Alignment",description:"Specifies on which side the UI aligns. The change will only take effect on the next launch.",type:"string",order:1,enum:[{value:"left",description:"left"},{value:"right",description:"right"}],default:"right"},alwaysShowCounter:{title:"Always Show Counter",description:"Displays a counter next to the status-bar icon",type:"boolean",default:!0,order:2},defaultTracking:{title:"Default Tracking",description:"Default tracking URLs that can be blocked",type:"object",order:3,properties:{adobe:{title:"Adobe",type:"boolean",default:!0,order:1},metrics:{title:"Atom Metrics",type:"boolean",default:!0,order:2},analytics:{title:"Google Analytics",type:"boolean",default:!0,order:3},tagManager:{title:"Google Tag Manager",type:"boolean",default:!0,order:4},matomo:{title:"Matomo/Piwik",type:"boolean",default:!0,order:5},microsoft:{title:"Microsoft",type:"boolean",default:!0,order:6}}}},subscriptions:null,settings:null,statusbar:null,activate:function(){return o(this,void 0,void 0,(function(){var e=this;return i(this,(function(n){return se(),this.settings=new xe,this.statusbar=new Ue,this.subscriptions=new t.CompositeDisposable,this.subscriptions.add(atom.commands.add("atom-workspace",{"do-not-track:toggle-settings":function(){e.settings.toggle()}})),[2]}))}))},deactivate:function(){var t;null===(t=this.subscriptions)||void 0===t||t.dispose(),this.settings.destroy()},consumeStatusBar:function(t){this.statusbar.attach(t)}};module.exports=Le;
