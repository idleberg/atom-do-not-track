"use strict";var t=require("atom"),e=require("electron");function n(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=n(require("path"));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function o(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function i(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var s=["*://cc-api-data.adobe.io/*"],a=["*://central.github.com/api/usage/atom"],c=["*://*.app-measurement.com/*","*://app-measurement.com/*","*://*.google-analytics.com/*","*://google-analytics.com/*"],l=["*://*.googletagmanager.com/*","*://googletagmanager.com/*"],u=["*://*/*matomo.js*","*://*/*matomo.php*","*://*/*piwik.js*","*://*/*piwik.php*"],p=["*://*.pipe.aria.microsoft.com/*"],f=["*://api-metrica.yandex.net/*","*://api-metrika.yandex.net/*"];function h(t){var e={exports:{}};return t(e,e.exports),e.exports}var d=h((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultOptions=e.presets=void 0;const n={chrome:{supportedSchemes:["http","https","file","ftp"],schemeStarMatchesWs:!1},firefox:{supportedSchemes:["http","https","ws","wss","ftp","ftps","data","file"],schemeStarMatchesWs:!0}};e.presets=n;const r=Object.assign(Object.assign({},n.chrome),{strict:!0});e.defaultOptions=r})),g=function(...t){if(Array.isArray(t[0])){const[e,...n]=t;return v("")(e,...n)}{const[e]=t;return v(e)}};const m={global:"g",ignoreCase:"i",multiline:"m",dotAll:"s",sticky:"y",unicode:"u"},b=/(\\*)#(.*)/g,y=(t,e,n)=>e.length%2?e.slice(1)+"#"+n.replace(b,y):e,v=(t={})=>(e,...n)=>{let r="";e.raw.forEach(((t,e)=>{r+=t.replace(b,y).replace(/\\`/g,"`").replace(/(\\*)(\s+)/g,((t,e,n)=>" "===n[0]&&e.length%2?e.slice(1)+n[0]:e));const o=n[e];o instanceof RegExp?r+=o.source:r+=null!=o?o:""}));let o="";return"string"==typeof t?o=t:Object.entries(m).forEach((([e,n])=>{t[e]&&(o+=n)})),new RegExp(r,o)};var w=Object.defineProperty({regex:g},"__esModule",{value:!0}),x=k,$=function(t,e){return(0,w.regex)(e)`${k(t)}`};function k(t){return t.replace(/[$()*+\-.?[\\\]^{|}]/g,(t=>`\\x${t.codePointAt(0).toString(16).padStart(2,"0")}`))}var j=Object.defineProperty({regexEscape:x,exact:$},"__esModule",{value:!0}),E=function(t,e){const n=t.source.replace(/^\^?([\s\S]*?)\$?$/,"$1");return(0,w.regex)(null!=e?e:t.flags)`${n}`};var O=Object.defineProperty({unwrap:E},"__esModule",{value:!0}),M=h((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.proxy=void 0;const n=new Proxy(w.regex,{get:(t,e)=>t("_"===e?"":e),apply:(t,e,n)=>t(...n)});e.proxy=n})),S=h((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"regex",{enumerable:!0,get:function(){return w.regex}}),Object.defineProperty(e,"exact",{enumerable:!0,get:function(){return j.exact}}),Object.defineProperty(e,"regexEscape",{enumerable:!0,get:function(){return j.regexEscape}}),Object.defineProperty(e,"unwrap",{enumerable:!0,get:function(){return O.unwrap}}),Object.defineProperty(e,"proxy",{enumerable:!0,get:function(){return M.proxy}})})),_=h((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.getDummyUrl=void 0;const n=/^|$|[/?=&\-]/;e.getDummyUrl=(t,e={})=>{const{rawHost:r,rawPathAndQuery:o}=t,{defaultScheme:i="https",subdomain:s="",pathAndQueryReplacer:a="",rootDomain:c="example.com",strict:l=!0}=e;let u;const p="*"===t.scheme?i:t.scheme;u="file"===p?"":"*"===r?[s,c].filter(Boolean).join("."):r.replace(/^\*./,s?`${s}.`:"");const f=(l?o:"/*").replace(/\*/g,`-${a}-`).replace((0,S.regex)("g")`-+(${n})`,"$1").replace((0,S.regex)("g")`(${n})-+`,"$1").replace(/\/+/g,"/");try{return new URL(`${p}://${u}${f}`)}catch(t){return null}}})),A=h((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.getPatternSegments=void 0;const n=S.regex`
	^
		(\*|\w+)      # scheme
		://
		(
			\*     |  # Any host
			[^/]*     # Only the given host (optional only if scheme is file)
		)
		(/.*)         # path
	$
`;e.getPatternSegments=t=>{if("<all_urls>"===t)return{pattern:t,scheme:"*",rawHost:"*",rawPathAndQuery:"/*"};const e=t.match(n);if(!e)return null;const[,r,o,i]=e;return{pattern:t,scheme:r,rawHost:o,rawPathAndQuery:i}}})),P=h((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.getExampleUrls=void 0;e.getExampleUrls=(t,e)=>{const n=(0,A.getPatternSegments)(t),{supportedSchemes:r,strict:o}=e,i=["","www","foo.bar"],s=["example.com"],a=["","foo","/bar/baz/"],c=r.flatMap((t=>i.flatMap((e=>s.flatMap((r=>a.flatMap((i=>(0,_.getDummyUrl)(n,{defaultScheme:t,subdomain:e,rootDomain:r,pathAndQueryReplacer:i,strict:o})))))))));return[...new Set(c.filter(Boolean).map((t=>t.href)))]}})),R=h((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ALL_URLS=void 0;e.ALL_URLS="<all_urls>"})),C=h((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.getHostRegex=void 0;e.getHostRegex=t=>{const{pattern:e,scheme:n,rawHost:r}=t;if(!r&&"file"!==n)return new Error('Host is optional only if the scheme is "file".');const o=r.includes("*");if(o){const t=r.split("*.");if(r.length>1&&(2!==t.length||t[0]||!t[1]))return new Error('Host can contain only one wildcard at the start, in the form "*.<host segments>"')}const i=(0,_.getDummyUrl)(t,{subdomain:""});if(!i)return new Error(`Pattern "${e}" cannot be used to construct a valid URL.`);const s=i.host;if(/:\d+$/.test(s))return new Error(`Host "${r}" cannot include a port number. All ports are matched by default.`);if(/[^.a-z0-9\-]/.test(s))return new Error(`Host "${r}" contains invalid characters.`);const a=o?"*."+s:s;return"*"===r?/.+/:a.startsWith("*.")?S.regex`
			^
				(?:[^.]+\.)*     # any number of dot-terminated segments
				${(0,S.regexEscape)(a.slice(2))}   # rest after leading *.
			$
		`:S.regex`^${(0,S.regexEscape)(a)}$`}})),U=h((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.createMatchFn=e.normalizeUrlFragment=void 0;const n=t=>{try{return encodeURI(decodeURI(t))}catch(t){return t}};e.normalizeUrlFragment=n;e.createMatchFn=t=>e=>{let r;try{const t=e instanceof URL?e.href:e;r=new URL(t);const o=n(r.pathname),i=n(r.search);if(o instanceof Error||i instanceof Error)return!1;r.pathname=o,r.href.endsWith("?")||(r.search=i)}catch(t){return!1}return t(r)}})),L=h((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.toMatchFnOrError=void 0;e.toMatchFnOrError=(t,e)=>{const{supportedSchemes:n,schemeStarMatchesWs:r,strict:o}=e;if(t===R.ALL_URLS)return(0,U.createMatchFn)((t=>S.regex`
				^
					(?:${n.map(S.regexEscape).join("|")})
					:
				$
			`.test(t.protocol)));const i=(0,A.getPatternSegments)(t);if(!i)return new Error(`Pattern "${t}" is invalid`);const{scheme:s,rawPathAndQuery:a}=i;if("*"!==s&&!n.includes(s))return new Error(`Scheme "${s}" is not supported`);const c=S.regex`${"*"===s?["https?",r&&"wss?"].filter(Boolean).join("|"):s}:`,l=(0,C.getHostRegex)(i);if(l instanceof Error)return l;const u=o?(0,U.normalizeUrlFragment)(a):"/*";if(u instanceof Error)return u;const p=S.regex`^${u.split("*").map((t=>(0,S.regexEscape)(t))).join(".*")}$`;return(0,U.createMatchFn)((t=>{const e=t.pathname+(t.href.endsWith("?")?"?":t.search);return c.test(t.protocol)&&l.test(t.host)&&p.test(e)}))}})),z=h((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.matchPattern=e.matchPatternWithConfig=void 0;const n=t=>e=>{const n=Object.assign(Object.assign({},d.defaultOptions),t),r=(0,L.toMatchFnOrError)(e,n);return r instanceof Error?{valid:!1,error:r,match:()=>!1,get examples(){return[]},pattern:e,config:n}:{valid:!0,match:r,get examples(){return(0,P.getExampleUrls)(e,n).filter((t=>r(t))).slice(0,100)},pattern:e,config:n}};e.matchPatternWithConfig=n;const r=n({});e.matchPattern=r})),T=h((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"matchPattern",{enumerable:!0,get:function(){return z.matchPattern}}),Object.defineProperty(e,"matchPatternWithConfig",{enumerable:!0,get:function(){return z.matchPatternWithConfig}}),Object.defineProperty(e,"presets",{enumerable:!0,get:function(){return d.presets}})}));function N(t){return t?atom.config.get("do-not-track."+t):atom.config.get("do-not-track")}function D(){}function I(t){return t()}function B(){return Object.create(null)}function H(t){t.forEach(I)}function W(t){return"function"==typeof t}function F(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function q(t,e){t.appendChild(e)}function G(t,e,n){t.insertBefore(e,n||null)}function Q(t){t.parentNode.removeChild(t)}function Y(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function J(t){return document.createElement(t)}function Z(t){return document.createTextNode(t)}function V(){return Z(" ")}function K(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function X(t){return function(e){return e.preventDefault(),t.call(this,e)}}function tt(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function et(t,e,n){e in t?t[e]=n:tt(t,e,n)}function nt(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}let rt;function ot(t){rt=t}function it(t){(function(){if(!rt)throw new Error("Function called outside component initialization");return rt})().$$.on_destroy.push(t)}const st=[],at=[],ct=[],lt=[],ut=Promise.resolve();let pt=!1;function ft(t){ct.push(t)}let ht=!1;const dt=new Set;function gt(){if(!ht){ht=!0;do{for(let t=0;t<st.length;t+=1){const e=st[t];ot(e),mt(e.$$)}for(ot(null),st.length=0;at.length;)at.pop()();for(let t=0;t<ct.length;t+=1){const e=ct[t];dt.has(e)||(dt.add(e),e())}ct.length=0}while(st.length);for(;lt.length;)lt.pop()();pt=!1,ht=!1,dt.clear()}}function mt(t){if(null!==t.fragment){t.update(),H(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ft)}}const bt=new Set;let yt;function vt(){yt={r:0,c:[],p:yt}}function wt(){yt.r||H(yt.c),yt=yt.p}function xt(t,e){t&&t.i&&(bt.delete(t),t.i(e))}function $t(t,e,n,r){if(t&&t.o){if(bt.has(t))return;bt.add(t),yt.c.push((()=>{bt.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const kt="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function jt(t){t&&t.c()}function Et(t,e,n,r){const{fragment:o,on_mount:i,on_destroy:s,after_update:a}=t.$$;o&&o.m(e,n),r||ft((()=>{const e=i.map(I).filter(W);s?s.push(...e):H(e),t.$$.on_mount=[]})),a.forEach(ft)}function Ot(t,e){const n=t.$$;null!==n.fragment&&(H(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Mt(t,e){-1===t.$$.dirty[0]&&(st.push(t),pt||(pt=!0,ut.then(gt)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function St(t,e,n,r,o,i,s=[-1]){const a=rt;ot(t);const c=t.$$={fragment:null,ctx:null,props:i,update:D,not_equal:o,bound:B(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:e.context||[]),callbacks:B(),dirty:s,skip_bound:!1};let l=!1;if(c.ctx=n?n(t,e.props||{},((e,n,...r)=>{const i=r.length?r[0]:n;return c.ctx&&o(c.ctx[e],c.ctx[e]=i)&&(!c.skip_bound&&c.bound[e]&&c.bound[e](i),l&&Mt(t,e)),n})):[],c.update(),l=!0,H(c.before_update),c.fragment=!!r&&r(c.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);c.fragment&&c.fragment.l(t),t.forEach(Q)}else c.fragment&&c.fragment.c();e.intro&&xt(t.$$.fragment),Et(t,e.target,e.anchor,e.customElement),gt()}ot(a)}class _t{$destroy(){Ot(this,1),this.$destroy=D}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const At=[];var Pt=function(t,e=D){let n;const r=[];function o(e){if(F(t,e)&&(t=e,n)){const e=!At.length;for(let e=0;e<r.length;e+=1){const n=r[e];n[1](),At.push(n,t)}if(e){for(let t=0;t<At.length;t+=2)At[t][0](At[t+1]);At.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(i,s=D){const a=[i,s];return r.push(a),1===r.length&&(n=e(o)||D),i(t),()=>{const t=r.indexOf(a);-1!==t&&r.splice(t,1),0===r.length&&(n(),n=null)}}}}({counter:0,buttonClass:"subtle",services:{adobe:{counter:0,name:"Adobe Data API",shortName:"Adobe"},metrics:{counter:0,name:"Atom Metrics",shortName:"Metrics"},analytics:{counter:0,name:"Google Analytics",shortName:"Analytics"},tagManager:{counter:0,name:"Google Tag Manager",shortName:"Tag Manager"},matomo:{counter:0,name:"Matomo/Piwik",shortName:"Matomo/Piwik"},microsoft:{counter:0,name:"Microsoft",shortName:"Microsoft"},yandex:{counter:0,name:"Yandex",shortName:"Yandex Metrica"},others:{counter:0,name:"Others",shortName:"Others"}},customUrls:function(){var t=localStorage.getItem("do-not-track:custom-urls")||"[]";try{return JSON.parse(t)}catch(t){return[]}}()}),Rt=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},Ct=Ut;function Ut(t,e,n){t instanceof RegExp&&(t=Lt(t,n)),e instanceof RegExp&&(e=Lt(e,n));var r=zt(t,e,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+t.length,r[1]),post:n.slice(r[1]+e.length)}}function Lt(t,e){var n=e.match(t);return n?n[0]:null}function zt(t,e,n){var r,o,i,s,a,c=n.indexOf(t),l=n.indexOf(e,c+1),u=c;if(c>=0&&l>0){if(t===e)return[c,l];for(r=[],i=n.length;u>=0&&!a;)u==c?(r.push(u),c=n.indexOf(t,u+1)):1==r.length?a=[r.pop(),l]:((o=r.pop())<i&&(i=o,s=l),l=n.indexOf(e,u+1)),u=c<l&&c>=0?c:l;r.length&&(a=[i,s])}return a}Ut.range=zt;var Tt=function(t){if(!t)return[];"{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2));return Zt(function(t){return t.split("\\\\").join(Nt).split("\\{").join(Dt).split("\\}").join(It).split("\\,").join(Bt).split("\\.").join(Ht)}(t),!0).map(Ft)},Nt="\0SLASH"+Math.random()+"\0",Dt="\0OPEN"+Math.random()+"\0",It="\0CLOSE"+Math.random()+"\0",Bt="\0COMMA"+Math.random()+"\0",Ht="\0PERIOD"+Math.random()+"\0";function Wt(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function Ft(t){return t.split(Nt).join("\\").split(Dt).join("{").split(It).join("}").split(Bt).join(",").split(Ht).join(".")}function qt(t){if(!t)return[""];var e=[],n=Ct("{","}",t);if(!n)return t.split(",");var r=n.pre,o=n.body,i=n.post,s=r.split(",");s[s.length-1]+="{"+o+"}";var a=qt(i);return i.length&&(s[s.length-1]+=a.shift(),s.push.apply(s,a)),e.push.apply(e,s),e}function Gt(t){return"{"+t+"}"}function Qt(t){return/^-?0\d/.test(t)}function Yt(t,e){return t<=e}function Jt(t,e){return t>=e}function Zt(t,e){var n=[],r=Ct("{","}",t);if(!r||/\$$/.test(r.pre))return[t];var o,i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),s=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),a=i||s,c=r.body.indexOf(",")>=0;if(!a&&!c)return r.post.match(/,.*\}/)?Zt(t=r.pre+"{"+r.body+It+r.post):[t];if(a)o=r.body.split(/\.\./);else if(1===(o=qt(r.body)).length&&1===(o=Zt(o[0],!1).map(Gt)).length)return(p=r.post.length?Zt(r.post,!1):[""]).map((function(t){return r.pre+o[0]+t}));var l,u=r.pre,p=r.post.length?Zt(r.post,!1):[""];if(a){var f=Wt(o[0]),h=Wt(o[1]),d=Math.max(o[0].length,o[1].length),g=3==o.length?Math.abs(Wt(o[2])):1,m=Yt;h<f&&(g*=-1,m=Jt);var b=o.some(Qt);l=[];for(var y=f;m(y,h);y+=g){var v;if(s)"\\"===(v=String.fromCharCode(y))&&(v="");else if(v=String(y),b){var w=d-v.length;if(w>0){var x=new Array(w+1).join("0");v=y<0?"-"+x+v.slice(1):x+v}}l.push(v)}}else l=function(t,e){for(var n=[],r=0;r<t.length;r++){var o=e(t[r],r);Rt(o)?n.push.apply(n,o):n.push(o)}return n}(o,(function(t){return Zt(t,!1)}));for(var $=0;$<l.length;$++)for(var k=0;k<p.length;k++){var j=u+l[$]+p[k];(!e||a||j)&&n.push(j)}return n}var Vt=oe;oe.Minimatch=ie;var Kt={sep:"/"};try{Kt=r.default}catch(t){}var Xt=oe.GLOBSTAR=ie.GLOBSTAR={},te={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},ee="().*{}+?[]^$\\!".split("").reduce((function(t,e){return t[e]=!0,t}),{});var ne=/\/+/;function re(t,e){t=t||{},e=e||{};var n={};return Object.keys(e).forEach((function(t){n[t]=e[t]})),Object.keys(t).forEach((function(e){n[e]=t[e]})),n}function oe(t,e,n){if("string"!=typeof e)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===e.charAt(0))&&(""===e.trim()?""===t:new ie(e,n).match(t))}function ie(t,e){if(!(this instanceof ie))return new ie(t,e);if("string"!=typeof t)throw new TypeError("glob pattern string required");e||(e={}),t=t.trim(),"/"!==Kt.sep&&(t=t.split(Kt.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function se(t,e){if(e||(e=this instanceof ie?this.options:{}),void 0===(t=void 0===t?this.pattern:t))throw new TypeError("undefined pattern");return e.nobrace||!t.match(/\{.*\}/)?[t]:Tt(t)}oe.filter=function(t,e){return e=e||{},function(n,r,o){return oe(n,t,e)}},oe.defaults=function(t){if(!t||!Object.keys(t).length)return oe;var e=oe,n=function(n,r,o){return e.minimatch(n,r,re(t,o))};return n.Minimatch=function(n,r){return new e.Minimatch(n,re(t,r))},n},ie.defaults=function(t){return t&&Object.keys(t).length?oe.defaults(t).Minimatch:ie},ie.prototype.debug=function(){},ie.prototype.make=function(){if(this._made)return;var t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error);this.debug(this.pattern,n),n=this.globParts=n.map((function(t){return t.split(ne)})),this.debug(this.pattern,n),n=n.map((function(t,e,n){return t.map(this.parse,this)}),this),this.debug(this.pattern,n),n=n.filter((function(t){return-1===t.indexOf(!1)})),this.debug(this.pattern,n),this.set=n},ie.prototype.parseNegate=function(){var t=this.pattern,e=!1,n=this.options,r=0;if(n.nonegate)return;for(var o=0,i=t.length;o<i&&"!"===t.charAt(o);o++)e=!e,r++;r&&(this.pattern=t.substr(r));this.negate=e},oe.braceExpand=function(t,e){return se(t,e)},ie.prototype.braceExpand=se,ie.prototype.parse=function(t,e){if(t.length>65536)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&"**"===t)return Xt;if(""===t)return"";var r,o="",i=!!n.nocase,s=!1,a=[],c=[],l=!1,u=-1,p=-1,f="."===t.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",h=this;function d(){if(r){switch(r){case"*":o+="[^/]*?",i=!0;break;case"?":o+="[^/]",i=!0;break;default:o+="\\"+r}h.debug("clearStateChar %j %j",r,o),r=!1}}for(var g,m=0,b=t.length;m<b&&(g=t.charAt(m));m++)if(this.debug("%s\t%s %s %j",t,m,o,g),s&&ee[g])o+="\\"+g,s=!1;else switch(g){case"/":return!1;case"\\":d(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,m,o,g),l){this.debug("  in class"),"!"===g&&m===p+1&&(g="^"),o+=g;continue}h.debug("call clearStateChar %j",r),d(),r=g,n.noext&&d();continue;case"(":if(l){o+="(";continue}if(!r){o+="\\(";continue}a.push({type:r,start:m-1,reStart:o.length,open:te[r].open,close:te[r].close}),o+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,o),r=!1;continue;case")":if(l||!a.length){o+="\\)";continue}d(),i=!0;var y=a.pop();o+=y.close,"!"===y.type&&c.push(y),y.reEnd=o.length;continue;case"|":if(l||!a.length||s){o+="\\|",s=!1;continue}d(),o+="|";continue;case"[":if(d(),l){o+="\\"+g;continue}l=!0,p=m,u=o.length,o+=g;continue;case"]":if(m===p+1||!l){o+="\\"+g,s=!1;continue}if(l){var v=t.substring(p+1,m);try{RegExp("["+v+"]")}catch(t){var w=this.parse(v,ae);o=o.substr(0,u)+"\\["+w[0]+"\\]",i=i||w[1],l=!1;continue}}i=!0,l=!1,o+=g;continue;default:d(),s?s=!1:!ee[g]||"^"===g&&l||(o+="\\"),o+=g}l&&(v=t.substr(p+1),w=this.parse(v,ae),o=o.substr(0,u)+"\\["+w[0],i=i||w[1]);for(y=a.pop();y;y=a.pop()){var x=o.slice(y.reStart+y.open.length);this.debug("setting tail",o,y),x=x.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(t,e,n){return n||(n="\\"),e+e+n+"|"})),this.debug("tail=%j\n   %s",x,x,y,o);var $="*"===y.type?"[^/]*?":"?"===y.type?"[^/]":"\\"+y.type;i=!0,o=o.slice(0,y.reStart)+$+"\\("+x}d(),s&&(o+="\\\\");var k=!1;switch(o.charAt(0)){case".":case"[":case"(":k=!0}for(var j=c.length-1;j>-1;j--){var E=c[j],O=o.slice(0,E.reStart),M=o.slice(E.reStart,E.reEnd-8),S=o.slice(E.reEnd-8,E.reEnd),_=o.slice(E.reEnd);S+=_;var A=O.split("(").length-1,P=_;for(m=0;m<A;m++)P=P.replace(/\)[+*?]?/,"");var R="";""===(_=P)&&e!==ae&&(R="$"),o=O+M+_+R+S}""!==o&&i&&(o="(?=.)"+o);k&&(o=f+o);if(e===ae)return[o,i];if(!i)return function(t){return t.replace(/\\(.)/g,"$1")}(t);var C=n.nocase?"i":"";try{var U=new RegExp("^"+o+"$",C)}catch(t){return new RegExp("$.")}return U._glob=t,U._src=o,U};var ae={};oe.makeRe=function(t,e){return new ie(t,e||{}).makeRe()},ie.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,n=e.noglobstar?"[^/]*?":e.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=e.nocase?"i":"",o=t.map((function(t){return t.map((function(t){return t===Xt?n:"string"==typeof t?function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(t):t._src})).join("\\/")})).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,r)}catch(t){this.regexp=!1}return this.regexp},oe.match=function(t,e,n){var r=new ie(e,n=n||{});return t=t.filter((function(t){return r.match(t)})),r.options.nonull&&!t.length&&t.push(e),t},ie.prototype.match=function(t,e){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;var n=this.options;"/"!==Kt.sep&&(t=t.split(Kt.sep).join("/"));t=t.split(ne),this.debug(this.pattern,"split",t);var r,o,i=this.set;for(this.debug(this.pattern,"set",i),o=t.length-1;o>=0&&!(r=t[o]);o--);for(o=0;o<i.length;o++){var s=i[o],a=t;if(n.matchBase&&1===s.length&&(a=[r]),this.matchOne(a,s,e))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},ie.prototype.matchOne=function(t,e,n){var r=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var o=0,i=0,s=t.length,a=e.length;o<s&&i<a;o++,i++){this.debug("matchOne loop");var c,l=e[i],u=t[o];if(this.debug(e,l,u),!1===l)return!1;if(l===Xt){this.debug("GLOBSTAR",[e,l,u]);var p=o,f=i+1;if(f===a){for(this.debug("** at the end");o<s;o++)if("."===t[o]||".."===t[o]||!r.dot&&"."===t[o].charAt(0))return!1;return!0}for(;p<s;){var h=t[p];if(this.debug("\nglobstar while",t,p,e,f,h),this.matchOne(t.slice(p),e.slice(f),n))return this.debug("globstar found match!",p,s,h),!0;if("."===h||".."===h||!r.dot&&"."===h.charAt(0)){this.debug("dot detected!",t,p,e,f);break}this.debug("globstar swallow a segment, and continue"),p++}return!(!n||(this.debug("\n>>> no match, partial?",t,p,e,f),p!==s))}if("string"==typeof l?(c=r.nocase?u.toLowerCase()===l.toLowerCase():u===l,this.debug("string match",l,u,c)):(c=u.match(l),this.debug("pattern match",l,u,c)),!c)return!1}if(o===s&&i===a)return!0;if(o===s)return n;if(i===a)return o===s-1&&""===t[o];throw new Error("wtf?")};var ce=(...t)=>[...new Set([].concat(...t))];var le=(t,...e)=>{const n=new Set([].concat(...e));return t.filter((t=>!n.has(t)))};var ue=t=>null==t?[]:Array.isArray(t)?t:"string"==typeof t?[t]:"function"==typeof t[Symbol.iterator]?[...t]:[t],pe=(t,e,n={})=>{if(t=ue(t),e=ue(e),0===t.length||0===e.length)return[];let r=[];for(const o of t)for(let t of e){let e=ce;"!"===t[0]&&(t=t.slice(1),e=le),r=e(r,Vt.match([o],t,n))}return r};function fe(){var t,n,r,o=(n=[],(r=N("defaultTracking")).adobe&&n.push.apply(n,s),r.metrics&&n.push.apply(n,a),r.analytics&&n.push.apply(n,c),r.tagManager&&n.push.apply(n,l),r.matomo&&n.push.apply(n,u),r.microsoft&&n.push.apply(n,p),Pt.subscribe((function(e){t=e.customUrls})),t.length&&n.push.apply(n,t),{urls:n});e.remote.session.defaultSession.webRequest.onBeforeSendHeaders(o,(function(t,e){console.log("Connection blocked",t),function(t){Pt.update((function(e){switch(e.counter+=1,e.buttonClass="error",!0){case pe(t.url,s).length>0:e.services.adobe.counter+=1;break;case pe(t.url,a).length>0:e.services.metrics.counter+=1;break;case pe(t.url,c).length>0:e.services.analytics.counter+=1;break;case pe(t.url,l).length>0:e.services.tagManager.counter+=1;break;case pe(t.url,u).length>0:case t.url.includes("matomo.js"):case t.url.includes("matomo.php"):case t.url.includes("piwik.js"):case t.url.includes("piwik.php"):e.services.matomo.counter+=1;break;case pe(t.url,p).length>0:e.services.microsoft.counter+=1;break;case pe(t.url,f).length>0:e.services.yandex.counter+=1;break;default:e.services.others.counter+=1}return e}))}(t),e({cancel:!0})}))}function he(t){let e,n;return{c(){e=J("div"),n=Z(t[1]),tt(e,"class","inline-block")},m(t,r){G(t,e,r),q(e,n)},p(t,e){2&e&&nt(n,t[1])},d(t){t&&Q(e)}}}function de(t){let e,n,r;return{c(){e=J("code"),n=Z(t[1]),tt(e,"class",r="inline-block "+me(t[1]))},m(t,r){G(t,e,r),q(e,n)},p(t,o){2&o&&nt(n,t[1]),2&o&&r!==(r="inline-block "+me(t[1]))&&tt(e,"class",r)},d(t){t&&Q(e)}}}function ge(t){let e,n,r,o,i,s;function a(t,e){return t[2]?de:he}let c=a(t),l=c(t);return{c(){e=J("list-item"),n=J("div"),r=Z(t[0]),o=V(),i=J("divider"),s=V(),l.c(),tt(n,"class","inline-block"),tt(i,"class","svelte-3h6cae"),et(e,"class","svelte-3h6cae")},m(t,a){G(t,e,a),q(e,n),q(n,r),q(e,o),q(e,i),q(e,s),l.m(e,null)},p(t,[n]){1&n&&nt(r,t[0]),c===(c=a(t))&&l?l.p(t,n):(l.d(1),l=c(t),l&&(l.c(),l.m(e,null)))},i:D,o:D,d(t){t&&Q(e),l.d()}}}function me(t){switch(!0){case parseInt(t,10)>=100:return"highlight-error";case parseInt(t,10)>=25:return"highlight-warning";default:return"highlight-info"}}function be(t,e,n){let{name:r}=e,{counter:o}=e,{highlight:i}=e;return t.$$set=t=>{"name"in t&&n(0,r=t.name),"counter"in t&&n(1,o=t.counter),"highlight"in t&&n(2,i=t.highlight)},[r,o,i]}class ye extends _t{constructor(t){var e;super(),document.getElementById("svelte-3h6cae-style")||((e=J("style")).id="svelte-3h6cae-style",e.textContent="list-item.svelte-3h6cae{display:flex;justify-content:space-between;line-height:1.5;margin-bottom:5px;margin-top:5px}divider.svelte-3h6cae{border-top:1px dashed;flex:1 1 0;margin-right:10px;margin-top:.80em;vertical-align:center}",q(document.head,e)),St(this,t,be,ge,F,{name:0,counter:1,highlight:2})}}const{document:ve}=kt;function we(t,e,n){const r=t.slice();return r[8]=e[n],r}function xe(t,e,n){const r=t.slice();return r[11]=e[n],r}function $e(t){let e,n;return e=new ye({props:{name:t[0][t[11]].name,counter:t[0][t[11]].counter,highlight:!0}}),{c(){jt(e.$$.fragment)},m(t,r){Et(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.name=t[0][t[11]].name),1&n&&(r.counter=t[0][t[11]].counter),e.$set(r)},i(t){n||(xt(e.$$.fragment,t),n=!0)},o(t){$t(e.$$.fragment,t),n=!1},d(t){Ot(e,t)}}}function ke(t){let e,n,r,o,i,s,a,c,l,u=t[8]+"";return{c(){e=J("li"),n=J("button"),r=V(),o=J("span"),i=Z(u),s=V(),tt(n,"aria-label","Remove URL from list"),tt(n,"class","btn btn-xs icon icon-remove-close"),tt(o,"class","text-info"),tt(e,"class","list-item svelte-pw7z87"),tt(e,"title",a=t[8])},m(a,u){G(a,e,u),q(e,n),q(e,r),q(e,o),q(o,i),q(e,s),c||(l=K(n,"click",t[4]),c=!0)},p(t,n){2&n&&u!==(u=t[8]+"")&&nt(i,u),2&n&&a!==(a=t[8])&&tt(e,"title",a)},d(t){t&&Q(e),c=!1,l()}}}function je(t){let e,n,r,o,i,s,a,c,l,u,p,f,h,d,g,m,b,y,v,w,x,$,k,j,E,O=Object.keys(t[0]),M=[];for(let e=0;e<O.length;e+=1)M[e]=$e(xe(t,O,e));const S=t=>$t(M[t],1,1,(()=>{M[t]=null}));let _=t[1],A=[];for(let e=0;e<_.length;e+=1)A[e]=ke(we(t,_,e));return{c(){e=J("section"),n=J("div"),r=J("atom-panel"),o=J("div"),i=J("div"),i.textContent="Blocked Connections",s=V(),a=J("div");for(let t=0;t<M.length;t+=1)M[t].c();c=V(),l=J("div"),u=J("atom-panel"),p=J("div"),f=J("div"),f.textContent="Custom URLs",h=V(),d=J("div"),g=J("p"),g.innerHTML='Here you can add match patterns for URLs. These consist of three parts: scheme, host, and path. The scheme and host are separated by <code>://</code>.\n            See the <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/Match_patterns">MDN documentation</a> for details.',m=V(),b=J("form"),y=J("atom-text-editor"),v=V(),w=J("button"),x=V(),$=J("ul");for(let t=0;t<A.length;t+=1)A[t].c();tt(i,"class","panel-heading"),tt(a,"class","panel-body padded"),tt(o,"class","inset-panel"),tt(n,"class","block"),tt(f,"class","panel-heading"),et(y,"id","url-input"),et(y,"class","editor mini svelte-pw7z87"),et(y,"mini",""),et(y,"data-grammar","text plain null-grammar"),et(y,"placeholder","<scheme>://<host>/<path>"),tt(w,"type","submit"),tt(w,"aria-label","Add URL to list"),tt(w,"class","btn icon icon-gist-new"),tt(b,"class","svelte-pw7z87"),tt($,"class","list-group"),tt(d,"class","panel-body padded"),tt(p,"class","inset-panel"),tt(l,"class","block"),tt(e,"class","svelte-pw7z87")},m(O,S){G(O,e,S),q(e,n),q(n,r),q(r,o),q(o,i),q(o,s),q(o,a);for(let t=0;t<M.length;t+=1)M[t].m(a,null);q(e,c),q(e,l),q(l,u),q(u,p),q(p,f),q(p,h),q(p,d),q(d,g),q(d,m),q(d,b),q(b,y),q(b,v),q(b,w),q(d,x),q(d,$);for(let t=0;t<A.length;t+=1)A[t].m($,null);k=!0,j||(E=[K(y,"keyup",X(t[3])),K(b,"submit",X(t[2]))],j=!0)},p(t,[e]){if(1&e){let n;for(O=Object.keys(t[0]),n=0;n<O.length;n+=1){const r=xe(t,O,n);M[n]?(M[n].p(r,e),xt(M[n],1)):(M[n]=$e(r),M[n].c(),xt(M[n],1),M[n].m(a,null))}for(vt(),n=O.length;n<M.length;n+=1)S(n);wt()}if(18&e){let n;for(_=t[1],n=0;n<_.length;n+=1){const r=we(t,_,n);A[n]?A[n].p(r,e):(A[n]=ke(r),A[n].c(),A[n].m($,null))}for(;n<A.length;n+=1)A[n].d(1);A.length=_.length}},i(t){if(!k){for(let t=0;t<O.length;t+=1)xt(M[t]);k=!0}},o(t){M=M.filter(Boolean);for(let t=0;t<M.length;t+=1)$t(M[t]);k=!1},d(t){t&&Q(e),Y(M,t),Y(A,t),j=!1,H(E)}}}function Ee(t,e,n){let r,o;function i(){!function(t){if(!t.trim().length||!function(t){var e=T.matchPattern(t).valid;return e||atom.notifications.addError("Invalid URL match pattern. [Need help?](https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/Match_patterns#examples)"),e}(t))return!1;if(!o.includes(t.trim()))return o.push(t.trim()),s(o),!0}(document.querySelector("#url-input .line .syntax--text").innerText)}function s(t){const e=t;Pt.update((e=>(e.customUrls=t,e)));try{fe()}catch(t){Pt.update((t=>(t.customUrls=e,t)))}!function(t){localStorage.setItem("do-not-track:custom-urls",JSON.stringify(t))}(t)}return it(Pt.subscribe((t=>{n(0,r=t.services),n(1,o=t.customUrls)}))),[r,o,i,function(t){"Enter"==t.code&&i()},function(t){const e=t.target.parentNode.innerText.trim(),n=o.indexOf(e);n<0||(o.splice(n,1),s(o))}]}class Oe extends _t{constructor(t){var e;super(),ve.getElementById("svelte-pw7z87-style")||((e=J("style")).id="svelte-pw7z87-style",e.textContent="section.svelte-pw7z87.svelte-pw7z87{padding:5px}form.svelte-pw7z87.svelte-pw7z87{display:flex;margin-bottom:1em}form.svelte-pw7z87 atom-text-editor.svelte-pw7z87{flex-grow:1}li.svelte-pw7z87.svelte-pw7z87{text-overflow:ellipsis;overflow:hidden}",q(ve.head,e)),St(this,t,Ee,je,F,{})}}var Me=function(){function e(){this.subscriptions=new t.CompositeDisposable,this.init()}return e.prototype.getTitle=function(){return"Do Not Track"},e.prototype.getURI=function(){return"atom://do-not-track/settings"},e.prototype.getDefaultLocation=function(){return String(N("interfaceAlignment"))},e.prototype.getElement=function(){var t=document.createElement("do-not-track-settings");return new Oe({target:t}),t},e.prototype.getIconName=function(){return"stop"},e.prototype.getDock=function(){return"left"===N("interfaceAlignment")?atom.workspace.getLeftDock():atom.workspace.getRightDock()},e.prototype.init=function(){atom.workspace.open(this,{activatePane:!1,activateItem:!1})},e.prototype.show=function(){this.getDock().show()},e.prototype.hide=function(){this.getDock().hide()},e.prototype.toggle=function(){atom.workspace.toggle(this)},e.prototype.destroy=function(){(null==this?void 0:this.subscriptions)&&this.subscriptions.dispose()},e}(),Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function _e(){if("function"==typeof this.destroy)this.destroy();else if("function"==typeof this.stop)this.stop();else if("function"==typeof this.kill)this.kill();else{if("function"!=typeof this.end)throw new Error("Unable to dispose object");this.end()}}var Ae=function(t){return"object"===(void 0===t?"undefined":Se(t))&&"function"!=typeof t.dispose&&Object.defineProperty(t,"dispose",{enumerable:!1,configurable:!1,writable:!1,value:_e}),t};function Pe(t,e,n){const r=t.slice();return r[2]=e[n],r}function Re(t){let e,n;return e=new ye({props:{name:t[0][t[2]].shortName,counter:t[0][t[2]].counter}}),{c(){jt(e.$$.fragment)},m(t,r){Et(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.name=t[0][t[2]].shortName),1&n&&(r.counter=t[0][t[2]].counter),e.$set(r)},i(t){n||(xt(e.$$.fragment,t),n=!0)},o(t){$t(e.$$.fragment,t),n=!1},d(t){Ot(e,t)}}}function Ce(t){let e,n,r,o,i,s=Object.keys(t[0]),a=[];for(let e=0;e<s.length;e+=1)a[e]=Re(Pe(t,s,e));const c=t=>$t(a[t],1,1,(()=>{a[t]=null}));return{c(){e=J("section"),n=J("p"),n.innerHTML="<strong>Blocked Connections</strong>",r=V(),o=J("div");for(let t=0;t<a.length;t+=1)a[t].c();tt(o,"class","list-group"),tt(e,"class","svelte-1yn2hhz")},m(t,s){G(t,e,s),q(e,n),q(e,r),q(e,o);for(let t=0;t<a.length;t+=1)a[t].m(o,null);i=!0},p(t,[e]){if(1&e){let n;for(s=Object.keys(t[0]),n=0;n<s.length;n+=1){const r=Pe(t,s,n);a[n]?(a[n].p(r,e),xt(a[n],1)):(a[n]=Re(r),a[n].c(),xt(a[n],1),a[n].m(o,null))}for(vt(),n=s.length;n<a.length;n+=1)c(n);wt()}},i(t){if(!i){for(let t=0;t<s.length;t+=1)xt(a[t]);i=!0}},o(t){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)$t(a[t]);i=!1},d(t){t&&Q(e),Y(a,t)}}}function Ue(t,e,n){let r;return it(Pt.subscribe((t=>{n(0,r=t.services)}))),[r]}class Le extends _t{constructor(t){var e;super(),document.getElementById("svelte-1yn2hhz-style")||((e=J("style")).id="svelte-1yn2hhz-style",e.textContent="section.svelte-1yn2hhz{color:inherit}",q(document.head,e)),St(this,t,Ue,Ce,F,{})}}function ze(t){let e,n,r,o,i,s,a,c=(t[2]&&0!==t[1]?t[1]:"")+"";return{c(){e=J("button"),n=J("span"),r=V(),o=Z(c),tt(n,"class","icon icon-stop"),tt(e,"class",i="inline-block text-"+t[0]+" svelte-d30rb6")},m(t,i){G(t,e,i),q(e,n),q(e,r),q(e,o),s||(a=K(e,"click",Te),s=!0)},p(t,[n]){6&n&&c!==(c=(t[2]&&0!==t[1]?t[1]:"")+"")&&nt(o,c),1&n&&i!==(i="inline-block text-"+t[0]+" svelte-d30rb6")&&tt(e,"class",i)},i:D,o:D,d(t){t&&Q(e),s=!1,a()}}}function Te(){const t=atom.workspace.getActivePane(),e=atom.views.getView(t);atom.commands.dispatch(e,"do-not-track:toggle-settings")}function Ne(t,e,n){let r,o;const i=Pt.subscribe((t=>{n(0,r=t.buttonClass),n(1,o=t.counter)}));let s=N("alwaysShowCounter");return atom.config.observe("do-not-track.alwaysShowCounter",(t=>{n(2,s=t)})),it(i),[r,o,s]}class De extends _t{constructor(t){var e;super(),document.getElementById("svelte-d30rb6-style")||((e=J("style")).id="svelte-d30rb6-style",e.textContent="button.svelte-d30rb6{background-color:inherit;border:none}",q(document.head,e)),St(this,t,Ne,ze,F,{})}}var Ie=function(){function e(){this.subscriptions=new t.CompositeDisposable}return e.prototype.attach=function(t){var e="left"===N("interfaceAlignment")?"addLeftTile":"addRightTile";this.subscriptions.add(Ae(t[e]({item:this.render(),priority:100})))},e.prototype.render=function(){var t=document.createElement("do-not-track-button"),e=document.createElement("div");return atom.tooltips.add(t,{item:e}),new Le({target:e}),new De({target:t}),t},e}(),Be={config:{interfaceAlignment:{title:"Interface Alignment",description:"Specifies on which side the UI aligns. The change will only take effect on the next launch.",type:"string",order:1,enum:[{value:"left",description:"left"},{value:"right",description:"right"}],default:"right"},alwaysShowCounter:{title:"Always Show Counter",description:"Displays a counter next to the status-bar icon",type:"boolean",default:!0,order:2},defaultTracking:{title:"Default Tracking",description:"Default tracking URLs that can be blocked",type:"object",order:3,properties:{adobe:{title:"Adobe",type:"boolean",default:!0,order:1},metrics:{title:"Atom Metrics",type:"boolean",default:!0,order:2},analytics:{title:"Google Analytics",type:"boolean",default:!0,order:3},tagManager:{title:"Google Tag Manager",type:"boolean",default:!0,order:4},matomo:{title:"Matomo/Piwik",type:"boolean",default:!0,order:5},microsoft:{title:"Microsoft",type:"boolean",default:!0,order:6},yandex:{title:"Yandex Metrica",type:"boolean",default:!0,order:7}}}},subscriptions:null,settings:null,statusbar:null,activate:function(){return o(this,void 0,void 0,(function(){var e=this;return i(this,(function(n){return fe(),this.settings=new Me,this.statusbar=new Ie,this.subscriptions=new t.CompositeDisposable,this.subscriptions.add(atom.commands.add("atom-workspace",{"do-not-track:toggle-settings":function(){e.settings.toggle()}})),[2]}))}))},deactivate:function(){var t;null===(t=this.subscriptions)||void 0===t||t.dispose(),this.settings.destroy()},consumeStatusBar:function(t){this.statusbar.attach(t)}};module.exports=Be;
