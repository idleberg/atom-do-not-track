"use strict";var t=require("atom"),e=require("electron");function n(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=n(require("path"));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function o(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function i(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var s=["*://central.github.com/api/usage/atom"],a=["*://*.google-analytics.com/*","*://google-analytics.com/*"],c=["*://*.googletagmanager.com/*","*://googletagmanager.com/*"],l=["*://*/*matomo.js*","*://*/*matomo.php*","*://*/*piwik.js*","*://*/*piwik.php*"];function u(t){var e={exports:{}};return t(e,e.exports),e.exports}var f=u((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultOptions=e.presets=void 0;const n={chrome:{supportedSchemes:["http","https","file","ftp"],schemeStarMatchesWs:!1},firefox:{supportedSchemes:["http","https","ws","wss","ftp","ftps","data","file"],schemeStarMatchesWs:!0}};e.presets=n;const r=Object.assign(Object.assign({},n.chrome),{strict:!0});e.defaultOptions=r})),p=function(...t){if(Array.isArray(t[0])){const[e,...n]=t;return m("")(e,...n)}{const[e]=t;return m(e)}};const h={global:"g",ignoreCase:"i",multiline:"m",dotAll:"s",sticky:"y",unicode:"u"},d=/(\\*)#(.*)/g,g=(t,e,n)=>e.length%2?e.slice(1)+"#"+n.replace(d,g):e,m=(t={})=>(e,...n)=>{let r="";e.raw.forEach(((t,e)=>{r+=t.replace(d,g).replace(/\\`/g,"`").replace(/(\\*)(\s+)/g,((t,e,n)=>" "===n[0]&&e.length%2?e.slice(1)+n[0]:e));const o=n[e];o instanceof RegExp?r+=o.source:r+=null!=o?o:""}));let o="";return"string"==typeof t?o=t:Object.entries(h).forEach((([e,n])=>{t[e]&&(o+=n)})),new RegExp(r,o)};var b=Object.defineProperty({regex:p},"__esModule",{value:!0}),y=w,v=function(t,e){return(0,b.regex)(e)`${w(t)}`};function w(t){return t.replace(/[$()*+\-.?[\\\]^{|}]/g,(t=>`\\x${t.codePointAt(0).toString(16).padStart(2,"0")}`))}var x=Object.defineProperty({regexEscape:y,exact:v},"__esModule",{value:!0}),$=function(t,e){const n=t.source.replace(/^\^?([\s\S]*?)\$?$/,"$1");return(0,b.regex)(null!=e?e:t.flags)`${n}`};var k=Object.defineProperty({unwrap:$},"__esModule",{value:!0}),j=u((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.proxy=void 0;const n=new Proxy(b.regex,{get:(t,e)=>t("_"===e?"":e),apply:(t,e,n)=>t(...n)});e.proxy=n})),E=u((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"regex",{enumerable:!0,get:function(){return b.regex}}),Object.defineProperty(e,"exact",{enumerable:!0,get:function(){return x.exact}}),Object.defineProperty(e,"regexEscape",{enumerable:!0,get:function(){return x.regexEscape}}),Object.defineProperty(e,"unwrap",{enumerable:!0,get:function(){return k.unwrap}}),Object.defineProperty(e,"proxy",{enumerable:!0,get:function(){return j.proxy}})})),O=u((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.getDummyUrl=void 0;const n=/^|$|[/?=&\-]/;e.getDummyUrl=(t,e={})=>{const{rawHost:r,rawPathAndQuery:o}=t,{defaultScheme:i="https",subdomain:s="",pathAndQueryReplacer:a="",rootDomain:c="example.com",strict:l=!0}=e;let u;const f="*"===t.scheme?i:t.scheme;u="file"===f?"":"*"===r?[s,c].filter(Boolean).join("."):r.replace(/^\*./,s?`${s}.`:"");const p=(l?o:"/*").replace(/\*/g,`-${a}-`).replace((0,E.regex)("g")`-+(${n})`,"$1").replace((0,E.regex)("g")`(${n})-+`,"$1").replace(/\/+/g,"/");try{return new URL(`${f}://${u}${p}`)}catch(t){return null}}})),S=u((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.getPatternSegments=void 0;const n=E.regex`
	^
		(\*|\w+)      # scheme
		://
		(
			\*     |  # Any host
			[^/]*     # Only the given host (optional only if scheme is file)
		)
		(/.*)         # path
	$
`;e.getPatternSegments=t=>{if("<all_urls>"===t)return{pattern:t,scheme:"*",rawHost:"*",rawPathAndQuery:"/*"};const e=t.match(n);if(!e)return null;const[,r,o,i]=e;return{pattern:t,scheme:r,rawHost:o,rawPathAndQuery:i}}})),M=u((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.getExampleUrls=void 0;e.getExampleUrls=(t,e)=>{const n=(0,S.getPatternSegments)(t),{supportedSchemes:r,strict:o}=e,i=["","www","foo.bar"],s=["example.com"],a=["","foo","/bar/baz/"],c=r.flatMap((t=>i.flatMap((e=>s.flatMap((r=>a.flatMap((i=>(0,O.getDummyUrl)(n,{defaultScheme:t,subdomain:e,rootDomain:r,pathAndQueryReplacer:i,strict:o})))))))));return[...new Set(c.filter(Boolean).map((t=>t.href)))]}})),_=u((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ALL_URLS=void 0;e.ALL_URLS="<all_urls>"})),A=u((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.getHostRegex=void 0;e.getHostRegex=t=>{const{pattern:e,scheme:n,rawHost:r}=t;if(!r&&"file"!==n)return new Error('Host is optional only if the scheme is "file".');const o=r.includes("*");if(o){const t=r.split("*.");if(r.length>1&&(2!==t.length||t[0]||!t[1]))return new Error('Host can contain only one wildcard at the start, in the form "*.<host segments>"')}const i=(0,O.getDummyUrl)(t,{subdomain:""});if(!i)return new Error(`Pattern "${e}" cannot be used to construct a valid URL.`);const s=i.host;if(/:\d+$/.test(s))return new Error(`Host "${r}" cannot include a port number. All ports are matched by default.`);if(/[^.a-z0-9\-]/.test(s))return new Error(`Host "${r}" contains invalid characters.`);const a=o?"*."+s:s;return"*"===r?/.+/:a.startsWith("*.")?E.regex`
			^
				(?:[^.]+\.)*     # any number of dot-terminated segments
				${(0,E.regexEscape)(a.slice(2))}   # rest after leading *.
			$
		`:E.regex`^${(0,E.regexEscape)(a)}$`}})),P=u((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.createMatchFn=e.normalizeUrlFragment=void 0;const n=t=>{try{return encodeURI(decodeURI(t))}catch(t){return t}};e.normalizeUrlFragment=n;e.createMatchFn=t=>e=>{let r;try{const t=e instanceof URL?e.href:e;r=new URL(t);const o=n(r.pathname),i=n(r.search);if(o instanceof Error||i instanceof Error)return!1;r.pathname=o,r.href.endsWith("?")||(r.search=i)}catch(t){return!1}return t(r)}})),R=u((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.toMatchFnOrError=void 0;e.toMatchFnOrError=(t,e)=>{const{supportedSchemes:n,schemeStarMatchesWs:r,strict:o}=e;if(t===_.ALL_URLS)return(0,P.createMatchFn)((t=>E.regex`
				^
					(?:${n.map(E.regexEscape).join("|")})
					:
				$
			`.test(t.protocol)));const i=(0,S.getPatternSegments)(t);if(!i)return new Error(`Pattern "${t}" is invalid`);const{scheme:s,rawPathAndQuery:a}=i;if("*"!==s&&!n.includes(s))return new Error(`Scheme "${s}" is not supported`);const c=E.regex`${"*"===s?["https?",r&&"wss?"].filter(Boolean).join("|"):s}:`,l=(0,A.getHostRegex)(i);if(l instanceof Error)return l;const u=o?(0,P.normalizeUrlFragment)(a):"/*";if(u instanceof Error)return u;const f=E.regex`^${u.split("*").map((t=>(0,E.regexEscape)(t))).join(".*")}$`;return(0,P.createMatchFn)((t=>{const e=t.pathname+(t.href.endsWith("?")?"?":t.search);return c.test(t.protocol)&&l.test(t.host)&&f.test(e)}))}})),C=u((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.matchPattern=e.matchPatternWithConfig=void 0;const n=t=>e=>{const n=Object.assign(Object.assign({},f.defaultOptions),t),r=(0,R.toMatchFnOrError)(e,n);return r instanceof Error?{valid:!1,error:r,match:()=>!1,get examples(){return[]},pattern:e,config:n}:{valid:!0,match:r,get examples(){return(0,M.getExampleUrls)(e,n).filter((t=>r(t))).slice(0,100)},pattern:e,config:n}};e.matchPatternWithConfig=n;const r=n({});e.matchPattern=r})),U=u((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"matchPattern",{enumerable:!0,get:function(){return C.matchPattern}}),Object.defineProperty(e,"matchPatternWithConfig",{enumerable:!0,get:function(){return C.matchPatternWithConfig}}),Object.defineProperty(e,"presets",{enumerable:!0,get:function(){return f.presets}})}));function L(t){return t?atom.config.get("do-not-track."+t):atom.config.get("do-not-track")}function z(){}function T(t){return t()}function D(){return Object.create(null)}function N(t){t.forEach(T)}function I(t){return"function"==typeof t}function B(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function H(t,e){t.appendChild(e)}function W(t,e,n){t.insertBefore(e,n||null)}function F(t){t.parentNode.removeChild(t)}function q(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function G(t){return document.createElement(t)}function Q(t){return document.createTextNode(t)}function J(){return Q(" ")}function Z(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function V(t){return function(e){return e.preventDefault(),t.call(this,e)}}function K(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function X(t,e,n){e in t?t[e]=n:K(t,e,n)}function Y(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}let tt;function et(t){tt=t}function nt(t){(function(){if(!tt)throw new Error("Function called outside component initialization");return tt})().$$.on_destroy.push(t)}const rt=[],ot=[],it=[],st=[],at=Promise.resolve();let ct=!1;function lt(t){it.push(t)}let ut=!1;const ft=new Set;function pt(){if(!ut){ut=!0;do{for(let t=0;t<rt.length;t+=1){const e=rt[t];et(e),ht(e.$$)}for(et(null),rt.length=0;ot.length;)ot.pop()();for(let t=0;t<it.length;t+=1){const e=it[t];ft.has(e)||(ft.add(e),e())}it.length=0}while(rt.length);for(;st.length;)st.pop()();ct=!1,ut=!1,ft.clear()}}function ht(t){if(null!==t.fragment){t.update(),N(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(lt)}}const dt=new Set;let gt;function mt(){gt={r:0,c:[],p:gt}}function bt(){gt.r||N(gt.c),gt=gt.p}function yt(t,e){t&&t.i&&(dt.delete(t),t.i(e))}function vt(t,e,n,r){if(t&&t.o){if(dt.has(t))return;dt.add(t),gt.c.push((()=>{dt.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const wt="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function xt(t){t&&t.c()}function $t(t,e,n,r){const{fragment:o,on_mount:i,on_destroy:s,after_update:a}=t.$$;o&&o.m(e,n),r||lt((()=>{const e=i.map(T).filter(I);s?s.push(...e):N(e),t.$$.on_mount=[]})),a.forEach(lt)}function kt(t,e){const n=t.$$;null!==n.fragment&&(N(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function jt(t,e){-1===t.$$.dirty[0]&&(rt.push(t),ct||(ct=!0,at.then(pt)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Et(t,e,n,r,o,i,s=[-1]){const a=tt;et(t);const c=t.$$={fragment:null,ctx:null,props:i,update:z,not_equal:o,bound:D(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:e.context||[]),callbacks:D(),dirty:s,skip_bound:!1};let l=!1;if(c.ctx=n?n(t,e.props||{},((e,n,...r)=>{const i=r.length?r[0]:n;return c.ctx&&o(c.ctx[e],c.ctx[e]=i)&&(!c.skip_bound&&c.bound[e]&&c.bound[e](i),l&&jt(t,e)),n})):[],c.update(),l=!0,N(c.before_update),c.fragment=!!r&&r(c.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);c.fragment&&c.fragment.l(t),t.forEach(F)}else c.fragment&&c.fragment.c();e.intro&&yt(t.$$.fragment),$t(t,e.target,e.anchor,e.customElement),pt()}et(a)}class Ot{$destroy(){kt(this,1),this.$destroy=z}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const St=[];var Mt=function(t,e=z){let n;const r=[];function o(e){if(B(t,e)&&(t=e,n)){const e=!St.length;for(let e=0;e<r.length;e+=1){const n=r[e];n[1](),St.push(n,t)}if(e){for(let t=0;t<St.length;t+=2)St[t][0](St[t+1]);St.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(i,s=z){const a=[i,s];return r.push(a),1===r.length&&(n=e(o)||z),i(t),()=>{const t=r.indexOf(a);-1!==t&&r.splice(t,1),0===r.length&&(n(),n=null)}}}}({counter:0,buttonClass:"subtle",services:{metrics:{counter:0,name:"Atom Metrics",shortName:"Metrics"},analytics:{counter:0,name:"Google Analytics",shortName:"Analytics"},tagManager:{counter:0,name:"Google Tag Manager",shortName:"Tag Manager"},matomo:{counter:0,name:"Matomo/Piwik",shortName:"Matomo/Piwik"},others:{counter:0,name:"Others",shortName:"Others"}},customUrls:function(){var t=localStorage.getItem("do-not-track:custom-urls")||"[]";try{return JSON.parse(t)}catch(t){return[]}}()}),_t=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},At=Pt;function Pt(t,e,n){t instanceof RegExp&&(t=Rt(t,n)),e instanceof RegExp&&(e=Rt(e,n));var r=Ct(t,e,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+t.length,r[1]),post:n.slice(r[1]+e.length)}}function Rt(t,e){var n=e.match(t);return n?n[0]:null}function Ct(t,e,n){var r,o,i,s,a,c=n.indexOf(t),l=n.indexOf(e,c+1),u=c;if(c>=0&&l>0){if(t===e)return[c,l];for(r=[],i=n.length;u>=0&&!a;)u==c?(r.push(u),c=n.indexOf(t,u+1)):1==r.length?a=[r.pop(),l]:((o=r.pop())<i&&(i=o,s=l),l=n.indexOf(e,u+1)),u=c<l&&c>=0?c:l;r.length&&(a=[i,s])}return a}Pt.range=Ct;var Ut=function(t){if(!t)return[];"{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2));return Qt(function(t){return t.split("\\\\").join(Lt).split("\\{").join(zt).split("\\}").join(Tt).split("\\,").join(Dt).split("\\.").join(Nt)}(t),!0).map(Bt)},Lt="\0SLASH"+Math.random()+"\0",zt="\0OPEN"+Math.random()+"\0",Tt="\0CLOSE"+Math.random()+"\0",Dt="\0COMMA"+Math.random()+"\0",Nt="\0PERIOD"+Math.random()+"\0";function It(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function Bt(t){return t.split(Lt).join("\\").split(zt).join("{").split(Tt).join("}").split(Dt).join(",").split(Nt).join(".")}function Ht(t){if(!t)return[""];var e=[],n=At("{","}",t);if(!n)return t.split(",");var r=n.pre,o=n.body,i=n.post,s=r.split(",");s[s.length-1]+="{"+o+"}";var a=Ht(i);return i.length&&(s[s.length-1]+=a.shift(),s.push.apply(s,a)),e.push.apply(e,s),e}function Wt(t){return"{"+t+"}"}function Ft(t){return/^-?0\d/.test(t)}function qt(t,e){return t<=e}function Gt(t,e){return t>=e}function Qt(t,e){var n=[],r=At("{","}",t);if(!r||/\$$/.test(r.pre))return[t];var o,i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),s=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),a=i||s,c=r.body.indexOf(",")>=0;if(!a&&!c)return r.post.match(/,.*\}/)?Qt(t=r.pre+"{"+r.body+Tt+r.post):[t];if(a)o=r.body.split(/\.\./);else if(1===(o=Ht(r.body)).length&&1===(o=Qt(o[0],!1).map(Wt)).length)return(f=r.post.length?Qt(r.post,!1):[""]).map((function(t){return r.pre+o[0]+t}));var l,u=r.pre,f=r.post.length?Qt(r.post,!1):[""];if(a){var p=It(o[0]),h=It(o[1]),d=Math.max(o[0].length,o[1].length),g=3==o.length?Math.abs(It(o[2])):1,m=qt;h<p&&(g*=-1,m=Gt);var b=o.some(Ft);l=[];for(var y=p;m(y,h);y+=g){var v;if(s)"\\"===(v=String.fromCharCode(y))&&(v="");else if(v=String(y),b){var w=d-v.length;if(w>0){var x=new Array(w+1).join("0");v=y<0?"-"+x+v.slice(1):x+v}}l.push(v)}}else l=function(t,e){for(var n=[],r=0;r<t.length;r++){var o=e(t[r],r);_t(o)?n.push.apply(n,o):n.push(o)}return n}(o,(function(t){return Qt(t,!1)}));for(var $=0;$<l.length;$++)for(var k=0;k<f.length;k++){var j=u+l[$]+f[k];(!e||a||j)&&n.push(j)}return n}var Jt=ee;ee.Minimatch=ne;var Zt={sep:"/"};try{Zt=r.default}catch(t){}var Vt=ee.GLOBSTAR=ne.GLOBSTAR={},Kt={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},Xt="().*{}+?[]^$\\!".split("").reduce((function(t,e){return t[e]=!0,t}),{});var Yt=/\/+/;function te(t,e){t=t||{},e=e||{};var n={};return Object.keys(e).forEach((function(t){n[t]=e[t]})),Object.keys(t).forEach((function(e){n[e]=t[e]})),n}function ee(t,e,n){if("string"!=typeof e)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===e.charAt(0))&&(""===e.trim()?""===t:new ne(e,n).match(t))}function ne(t,e){if(!(this instanceof ne))return new ne(t,e);if("string"!=typeof t)throw new TypeError("glob pattern string required");e||(e={}),t=t.trim(),"/"!==Zt.sep&&(t=t.split(Zt.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function re(t,e){if(e||(e=this instanceof ne?this.options:{}),void 0===(t=void 0===t?this.pattern:t))throw new TypeError("undefined pattern");return e.nobrace||!t.match(/\{.*\}/)?[t]:Ut(t)}ee.filter=function(t,e){return e=e||{},function(n,r,o){return ee(n,t,e)}},ee.defaults=function(t){if(!t||!Object.keys(t).length)return ee;var e=ee,n=function(n,r,o){return e.minimatch(n,r,te(t,o))};return n.Minimatch=function(n,r){return new e.Minimatch(n,te(t,r))},n},ne.defaults=function(t){return t&&Object.keys(t).length?ee.defaults(t).Minimatch:ne},ne.prototype.debug=function(){},ne.prototype.make=function(){if(this._made)return;var t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error);this.debug(this.pattern,n),n=this.globParts=n.map((function(t){return t.split(Yt)})),this.debug(this.pattern,n),n=n.map((function(t,e,n){return t.map(this.parse,this)}),this),this.debug(this.pattern,n),n=n.filter((function(t){return-1===t.indexOf(!1)})),this.debug(this.pattern,n),this.set=n},ne.prototype.parseNegate=function(){var t=this.pattern,e=!1,n=this.options,r=0;if(n.nonegate)return;for(var o=0,i=t.length;o<i&&"!"===t.charAt(o);o++)e=!e,r++;r&&(this.pattern=t.substr(r));this.negate=e},ee.braceExpand=function(t,e){return re(t,e)},ne.prototype.braceExpand=re,ne.prototype.parse=function(t,e){if(t.length>65536)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&"**"===t)return Vt;if(""===t)return"";var r,o="",i=!!n.nocase,s=!1,a=[],c=[],l=!1,u=-1,f=-1,p="."===t.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",h=this;function d(){if(r){switch(r){case"*":o+="[^/]*?",i=!0;break;case"?":o+="[^/]",i=!0;break;default:o+="\\"+r}h.debug("clearStateChar %j %j",r,o),r=!1}}for(var g,m=0,b=t.length;m<b&&(g=t.charAt(m));m++)if(this.debug("%s\t%s %s %j",t,m,o,g),s&&Xt[g])o+="\\"+g,s=!1;else switch(g){case"/":return!1;case"\\":d(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,m,o,g),l){this.debug("  in class"),"!"===g&&m===f+1&&(g="^"),o+=g;continue}h.debug("call clearStateChar %j",r),d(),r=g,n.noext&&d();continue;case"(":if(l){o+="(";continue}if(!r){o+="\\(";continue}a.push({type:r,start:m-1,reStart:o.length,open:Kt[r].open,close:Kt[r].close}),o+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,o),r=!1;continue;case")":if(l||!a.length){o+="\\)";continue}d(),i=!0;var y=a.pop();o+=y.close,"!"===y.type&&c.push(y),y.reEnd=o.length;continue;case"|":if(l||!a.length||s){o+="\\|",s=!1;continue}d(),o+="|";continue;case"[":if(d(),l){o+="\\"+g;continue}l=!0,f=m,u=o.length,o+=g;continue;case"]":if(m===f+1||!l){o+="\\"+g,s=!1;continue}if(l){var v=t.substring(f+1,m);try{RegExp("["+v+"]")}catch(t){var w=this.parse(v,oe);o=o.substr(0,u)+"\\["+w[0]+"\\]",i=i||w[1],l=!1;continue}}i=!0,l=!1,o+=g;continue;default:d(),s?s=!1:!Xt[g]||"^"===g&&l||(o+="\\"),o+=g}l&&(v=t.substr(f+1),w=this.parse(v,oe),o=o.substr(0,u)+"\\["+w[0],i=i||w[1]);for(y=a.pop();y;y=a.pop()){var x=o.slice(y.reStart+y.open.length);this.debug("setting tail",o,y),x=x.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(t,e,n){return n||(n="\\"),e+e+n+"|"})),this.debug("tail=%j\n   %s",x,x,y,o);var $="*"===y.type?"[^/]*?":"?"===y.type?"[^/]":"\\"+y.type;i=!0,o=o.slice(0,y.reStart)+$+"\\("+x}d(),s&&(o+="\\\\");var k=!1;switch(o.charAt(0)){case".":case"[":case"(":k=!0}for(var j=c.length-1;j>-1;j--){var E=c[j],O=o.slice(0,E.reStart),S=o.slice(E.reStart,E.reEnd-8),M=o.slice(E.reEnd-8,E.reEnd),_=o.slice(E.reEnd);M+=_;var A=O.split("(").length-1,P=_;for(m=0;m<A;m++)P=P.replace(/\)[+*?]?/,"");var R="";""===(_=P)&&e!==oe&&(R="$"),o=O+S+_+R+M}""!==o&&i&&(o="(?=.)"+o);k&&(o=p+o);if(e===oe)return[o,i];if(!i)return function(t){return t.replace(/\\(.)/g,"$1")}(t);var C=n.nocase?"i":"";try{var U=new RegExp("^"+o+"$",C)}catch(t){return new RegExp("$.")}return U._glob=t,U._src=o,U};var oe={};ee.makeRe=function(t,e){return new ne(t,e||{}).makeRe()},ne.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,n=e.noglobstar?"[^/]*?":e.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=e.nocase?"i":"",o=t.map((function(t){return t.map((function(t){return t===Vt?n:"string"==typeof t?function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(t):t._src})).join("\\/")})).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,r)}catch(t){this.regexp=!1}return this.regexp},ee.match=function(t,e,n){var r=new ne(e,n=n||{});return t=t.filter((function(t){return r.match(t)})),r.options.nonull&&!t.length&&t.push(e),t},ne.prototype.match=function(t,e){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;var n=this.options;"/"!==Zt.sep&&(t=t.split(Zt.sep).join("/"));t=t.split(Yt),this.debug(this.pattern,"split",t);var r,o,i=this.set;for(this.debug(this.pattern,"set",i),o=t.length-1;o>=0&&!(r=t[o]);o--);for(o=0;o<i.length;o++){var s=i[o],a=t;if(n.matchBase&&1===s.length&&(a=[r]),this.matchOne(a,s,e))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},ne.prototype.matchOne=function(t,e,n){var r=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var o=0,i=0,s=t.length,a=e.length;o<s&&i<a;o++,i++){this.debug("matchOne loop");var c,l=e[i],u=t[o];if(this.debug(e,l,u),!1===l)return!1;if(l===Vt){this.debug("GLOBSTAR",[e,l,u]);var f=o,p=i+1;if(p===a){for(this.debug("** at the end");o<s;o++)if("."===t[o]||".."===t[o]||!r.dot&&"."===t[o].charAt(0))return!1;return!0}for(;f<s;){var h=t[f];if(this.debug("\nglobstar while",t,f,e,p,h),this.matchOne(t.slice(f),e.slice(p),n))return this.debug("globstar found match!",f,s,h),!0;if("."===h||".."===h||!r.dot&&"."===h.charAt(0)){this.debug("dot detected!",t,f,e,p);break}this.debug("globstar swallow a segment, and continue"),f++}return!(!n||(this.debug("\n>>> no match, partial?",t,f,e,p),f!==s))}if("string"==typeof l?(c=r.nocase?u.toLowerCase()===l.toLowerCase():u===l,this.debug("string match",l,u,c)):(c=u.match(l),this.debug("pattern match",l,u,c)),!c)return!1}if(o===s&&i===a)return!0;if(o===s)return n;if(i===a)return o===s-1&&""===t[o];throw new Error("wtf?")};var ie=(...t)=>[...new Set([].concat(...t))];var se=(t,...e)=>{const n=new Set([].concat(...e));return t.filter((t=>!n.has(t)))};var ae=t=>null==t?[]:Array.isArray(t)?t:"string"==typeof t?[t]:"function"==typeof t[Symbol.iterator]?[...t]:[t],ce=(t,e,n={})=>{if(t=ae(t),e=ae(e),0===t.length||0===e.length)return[];let r=[];for(const o of t)for(let t of e){let e=ie;"!"===t[0]&&(t=t.slice(1),e=se),r=e(r,Jt.match([o],t,n))}return r};function le(){var t,n,r,o=(n=[],(r=L("defaultTracking")).metrics&&n.push.apply(n,s),r.analytics&&n.push.apply(n,a),r.tagManager&&n.push.apply(n,c),r.matomo&&n.push.apply(n,l),Mt.subscribe((function(e){t=e.customUrls})),t.length&&n.push.apply(n,t),{urls:n});e.remote.session.defaultSession.webRequest.onBeforeSendHeaders(o,(function(t,e){console.log("Connection blocked",t),function(t){Mt.update((function(e){switch(e.counter+=1,e.buttonClass="error",!0){case ce(t.url,s).length>0:e.services.metrics.counter+=1;break;case ce(t.url,a).length>0:e.services.analytics.counter+=1;break;case ce(t.url,c).length>0:e.services.tagManager.counter+=1;break;case ce(t.url,l).length>0:case t.url.includes("matomo.js"):case t.url.includes("matomo.php"):case t.url.includes("piwik.js"):case t.url.includes("piwik.php"):e.services.matomo.counter+=1;break;default:e.services.others.counter+=1}return e}))}(t),e({cancel:!0})}))}function ue(t){let e,n;return{c(){e=G("div"),n=Q(t[1]),K(e,"class","inline-block")},m(t,r){W(t,e,r),H(e,n)},p(t,e){2&e&&Y(n,t[1])},d(t){t&&F(e)}}}function fe(t){let e,n,r;return{c(){e=G("code"),n=Q(t[1]),K(e,"class",r="inline-block "+he(t[1]))},m(t,r){W(t,e,r),H(e,n)},p(t,o){2&o&&Y(n,t[1]),2&o&&r!==(r="inline-block "+he(t[1]))&&K(e,"class",r)},d(t){t&&F(e)}}}function pe(t){let e,n,r,o,i,s;function a(t,e){return t[2]?fe:ue}let c=a(t),l=c(t);return{c(){e=G("list-item"),n=G("div"),r=Q(t[0]),o=J(),i=G("divider"),s=J(),l.c(),K(n,"class","inline-block"),K(i,"class","svelte-3h6cae"),X(e,"class","svelte-3h6cae")},m(t,a){W(t,e,a),H(e,n),H(n,r),H(e,o),H(e,i),H(e,s),l.m(e,null)},p(t,[n]){1&n&&Y(r,t[0]),c===(c=a(t))&&l?l.p(t,n):(l.d(1),l=c(t),l&&(l.c(),l.m(e,null)))},i:z,o:z,d(t){t&&F(e),l.d()}}}function he(t){switch(!0){case parseInt(t,10)>=100:return"highlight-error";case parseInt(t,10)>=25:return"highlight-warning";default:return"highlight-info"}}function de(t,e,n){let{name:r}=e,{counter:o}=e,{highlight:i}=e;return t.$$set=t=>{"name"in t&&n(0,r=t.name),"counter"in t&&n(1,o=t.counter),"highlight"in t&&n(2,i=t.highlight)},[r,o,i]}class ge extends Ot{constructor(t){var e;super(),document.getElementById("svelte-3h6cae-style")||((e=G("style")).id="svelte-3h6cae-style",e.textContent="list-item.svelte-3h6cae{display:flex;justify-content:space-between;line-height:1.5;margin-bottom:5px;margin-top:5px}divider.svelte-3h6cae{border-top:1px dashed;flex:1 1 0;margin-right:10px;margin-top:.80em;vertical-align:center}",H(document.head,e)),Et(this,t,de,pe,B,{name:0,counter:1,highlight:2})}}const{document:me}=wt;function be(t,e,n){const r=t.slice();return r[8]=e[n],r}function ye(t,e,n){const r=t.slice();return r[11]=e[n],r}function ve(t){let e,n;return e=new ge({props:{name:t[0][t[11]].name,counter:t[0][t[11]].counter,highlight:!0}}),{c(){xt(e.$$.fragment)},m(t,r){$t(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.name=t[0][t[11]].name),1&n&&(r.counter=t[0][t[11]].counter),e.$set(r)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function we(t){let e,n,r,o,i,s,a,c,l,u=t[8]+"";return{c(){e=G("li"),n=G("button"),r=J(),o=G("span"),i=Q(u),s=J(),K(n,"aria-label","Remove URL from list"),K(n,"class","btn btn-xs icon icon-remove-close"),K(o,"class","text-info"),K(e,"class","list-item svelte-pw7z87"),K(e,"title",a=t[8])},m(a,u){W(a,e,u),H(e,n),H(e,r),H(e,o),H(o,i),H(e,s),c||(l=Z(n,"click",t[4]),c=!0)},p(t,n){2&n&&u!==(u=t[8]+"")&&Y(i,u),2&n&&a!==(a=t[8])&&K(e,"title",a)},d(t){t&&F(e),c=!1,l()}}}function xe(t){let e,n,r,o,i,s,a,c,l,u,f,p,h,d,g,m,b,y,v,w,x,$,k,j,E,O=Object.keys(t[0]),S=[];for(let e=0;e<O.length;e+=1)S[e]=ve(ye(t,O,e));const M=t=>vt(S[t],1,1,(()=>{S[t]=null}));let _=t[1],A=[];for(let e=0;e<_.length;e+=1)A[e]=we(be(t,_,e));return{c(){e=G("section"),n=G("div"),r=G("atom-panel"),o=G("div"),i=G("div"),i.textContent="Blocked Connections",s=J(),a=G("div");for(let t=0;t<S.length;t+=1)S[t].c();c=J(),l=G("div"),u=G("atom-panel"),f=G("div"),p=G("div"),p.textContent="Custom URLs",h=J(),d=G("div"),g=G("p"),g.innerHTML='Here you can add match patterns for URLs. These consist of three parts: scheme, host, and path. The scheme and host are separated by <code>://</code>.\n            See the <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/Match_patterns">MDN documentation</a> for details.',m=J(),b=G("form"),y=G("atom-text-editor"),v=J(),w=G("button"),x=J(),$=G("ul");for(let t=0;t<A.length;t+=1)A[t].c();K(i,"class","panel-heading"),K(a,"class","panel-body padded"),K(o,"class","inset-panel"),K(n,"class","block"),K(p,"class","panel-heading"),X(y,"id","url-input"),X(y,"class","editor mini svelte-pw7z87"),X(y,"mini",""),X(y,"data-grammar","text plain null-grammar"),X(y,"placeholder","<scheme>://<host>/<path>"),K(w,"type","submit"),K(w,"aria-label","Add URL to list"),K(w,"class","btn icon icon-gist-new"),K(b,"class","svelte-pw7z87"),K($,"class","list-group"),K(d,"class","panel-body padded"),K(f,"class","inset-panel"),K(l,"class","block"),K(e,"class","svelte-pw7z87")},m(O,M){W(O,e,M),H(e,n),H(n,r),H(r,o),H(o,i),H(o,s),H(o,a);for(let t=0;t<S.length;t+=1)S[t].m(a,null);H(e,c),H(e,l),H(l,u),H(u,f),H(f,p),H(f,h),H(f,d),H(d,g),H(d,m),H(d,b),H(b,y),H(b,v),H(b,w),H(d,x),H(d,$);for(let t=0;t<A.length;t+=1)A[t].m($,null);k=!0,j||(E=[Z(y,"keyup",V(t[3])),Z(b,"submit",V(t[2]))],j=!0)},p(t,[e]){if(1&e){let n;for(O=Object.keys(t[0]),n=0;n<O.length;n+=1){const r=ye(t,O,n);S[n]?(S[n].p(r,e),yt(S[n],1)):(S[n]=ve(r),S[n].c(),yt(S[n],1),S[n].m(a,null))}for(mt(),n=O.length;n<S.length;n+=1)M(n);bt()}if(18&e){let n;for(_=t[1],n=0;n<_.length;n+=1){const r=be(t,_,n);A[n]?A[n].p(r,e):(A[n]=we(r),A[n].c(),A[n].m($,null))}for(;n<A.length;n+=1)A[n].d(1);A.length=_.length}},i(t){if(!k){for(let t=0;t<O.length;t+=1)yt(S[t]);k=!0}},o(t){S=S.filter(Boolean);for(let t=0;t<S.length;t+=1)vt(S[t]);k=!1},d(t){t&&F(e),q(S,t),q(A,t),j=!1,N(E)}}}function $e(t,e,n){let r,o;function i(){!function(t){if(!t.trim().length||!function(t){var e=U.matchPattern(t).valid;return e||atom.notifications.addError("Invalid URL match pattern. [Need help?](https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/Match_patterns#examples)"),e}(t))return!1;if(!o.includes(t.trim()))return o.push(t.trim()),s(o),!0}(document.querySelector("#url-input .line .syntax--text").innerText)}function s(t){const e=t;Mt.update((e=>(e.customUrls=t,e)));try{le()}catch(t){Mt.update((t=>(t.customUrls=e,t)))}!function(t){localStorage.setItem("do-not-track:custom-urls",JSON.stringify(t))}(t)}return nt(Mt.subscribe((t=>{n(0,r=t.services),n(1,o=t.customUrls)}))),[r,o,i,function(t){"Enter"==t.code&&i()},function(t){const e=t.target.parentNode.innerText.trim(),n=o.indexOf(e);n<0||(o.splice(n,1),s(o))}]}class ke extends Ot{constructor(t){var e;super(),me.getElementById("svelte-pw7z87-style")||((e=G("style")).id="svelte-pw7z87-style",e.textContent="section.svelte-pw7z87.svelte-pw7z87{padding:5px}form.svelte-pw7z87.svelte-pw7z87{display:flex;margin-bottom:1em}form.svelte-pw7z87 atom-text-editor.svelte-pw7z87{flex-grow:1}li.svelte-pw7z87.svelte-pw7z87{text-overflow:ellipsis;overflow:hidden}",H(me.head,e)),Et(this,t,$e,xe,B,{})}}var je=function(){function e(){this.subscriptions=new t.CompositeDisposable,this.init()}return e.prototype.getTitle=function(){return"Do Not Track"},e.prototype.getURI=function(){return"atom://do-not-track/settings"},e.prototype.getDefaultLocation=function(){return String(L("interfaceAlignment"))},e.prototype.getElement=function(){var t=document.createElement("do-not-track-settings");return new ke({target:t}),t},e.prototype.getIconName=function(){return"stop"},e.prototype.getDock=function(){return"left"===L("interfaceAlignment")?atom.workspace.getLeftDock():atom.workspace.getRightDock()},e.prototype.init=function(){atom.workspace.open(this,{activatePane:!1,activateItem:!1})},e.prototype.show=function(){this.getDock().show()},e.prototype.hide=function(){this.getDock().hide()},e.prototype.toggle=function(){atom.workspace.toggle(this)},e.prototype.destroy=function(){(null==this?void 0:this.subscriptions)&&this.subscriptions.dispose()},e}(),Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function Oe(){if("function"==typeof this.destroy)this.destroy();else if("function"==typeof this.stop)this.stop();else if("function"==typeof this.kill)this.kill();else{if("function"!=typeof this.end)throw new Error("Unable to dispose object");this.end()}}var Se=function(t){return"object"===(void 0===t?"undefined":Ee(t))&&"function"!=typeof t.dispose&&Object.defineProperty(t,"dispose",{enumerable:!1,configurable:!1,writable:!1,value:Oe}),t};function Me(t,e,n){const r=t.slice();return r[2]=e[n],r}function _e(t){let e,n;return e=new ge({props:{name:t[0][t[2]].shortName,counter:t[0][t[2]].counter}}),{c(){xt(e.$$.fragment)},m(t,r){$t(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.name=t[0][t[2]].shortName),1&n&&(r.counter=t[0][t[2]].counter),e.$set(r)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function Ae(t){let e,n,r,o,i,s=Object.keys(t[0]),a=[];for(let e=0;e<s.length;e+=1)a[e]=_e(Me(t,s,e));const c=t=>vt(a[t],1,1,(()=>{a[t]=null}));return{c(){e=G("section"),n=G("p"),n.innerHTML="<strong>Blocked Connections</strong>",r=J(),o=G("div");for(let t=0;t<a.length;t+=1)a[t].c();K(o,"class","list-group"),K(e,"class","svelte-1yn2hhz")},m(t,s){W(t,e,s),H(e,n),H(e,r),H(e,o);for(let t=0;t<a.length;t+=1)a[t].m(o,null);i=!0},p(t,[e]){if(1&e){let n;for(s=Object.keys(t[0]),n=0;n<s.length;n+=1){const r=Me(t,s,n);a[n]?(a[n].p(r,e),yt(a[n],1)):(a[n]=_e(r),a[n].c(),yt(a[n],1),a[n].m(o,null))}for(mt(),n=s.length;n<a.length;n+=1)c(n);bt()}},i(t){if(!i){for(let t=0;t<s.length;t+=1)yt(a[t]);i=!0}},o(t){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)vt(a[t]);i=!1},d(t){t&&F(e),q(a,t)}}}function Pe(t,e,n){let r;return nt(Mt.subscribe((t=>{n(0,r=t.services)}))),[r]}class Re extends Ot{constructor(t){var e;super(),document.getElementById("svelte-1yn2hhz-style")||((e=G("style")).id="svelte-1yn2hhz-style",e.textContent="section.svelte-1yn2hhz{color:inherit}",H(document.head,e)),Et(this,t,Pe,Ae,B,{})}}function Ce(t){let e,n,r,o,i,s,a,c=(t[2]&&0!==t[1]?t[1]:"")+"";return{c(){e=G("button"),n=G("span"),r=J(),o=Q(c),K(n,"class","icon icon-stop"),K(e,"class",i="inline-block text-"+t[0]+" svelte-d30rb6")},m(t,i){W(t,e,i),H(e,n),H(e,r),H(e,o),s||(a=Z(e,"click",Ue),s=!0)},p(t,[n]){6&n&&c!==(c=(t[2]&&0!==t[1]?t[1]:"")+"")&&Y(o,c),1&n&&i!==(i="inline-block text-"+t[0]+" svelte-d30rb6")&&K(e,"class",i)},i:z,o:z,d(t){t&&F(e),s=!1,a()}}}function Ue(){const t=atom.workspace.getActivePane(),e=atom.views.getView(t);atom.commands.dispatch(e,"do-not-track:toggle-settings")}function Le(t,e,n){let r,o;const i=Mt.subscribe((t=>{n(0,r=t.buttonClass),n(1,o=t.counter)}));let s=L("alwaysShowCounter");return atom.config.observe("do-not-track.alwaysShowCounter",(t=>{n(2,s=t)})),nt(i),[r,o,s]}class ze extends Ot{constructor(t){var e;super(),document.getElementById("svelte-d30rb6-style")||((e=G("style")).id="svelte-d30rb6-style",e.textContent="button.svelte-d30rb6{background-color:inherit;border:none}",H(document.head,e)),Et(this,t,Le,Ce,B,{})}}var Te=function(){function e(){this.subscriptions=new t.CompositeDisposable}return e.prototype.attach=function(t){var e="left"===L("interfaceAlignment")?"addLeftTile":"addRightTile";this.subscriptions.add(Se(t[e]({item:this.render(),priority:100})))},e.prototype.render=function(){var t=document.createElement("do-not-track-button"),e=document.createElement("div");return atom.tooltips.add(t,{item:e}),new Re({target:e}),new ze({target:t}),t},e}(),De={config:{interfaceAlignment:{title:"Interface Alignment",description:"Specifies on which side the UI aligns. The change will only take effect on the next launch.",type:"string",order:1,enum:[{value:"left",description:"left"},{value:"right",description:"right"}],default:"right"},alwaysShowCounter:{title:"Always Show Counter",description:"Displays a counter next to the status-bar icon",type:"boolean",default:!0,order:2},defaultTracking:{title:"Default Tracking",description:"Default tracking URLs that can be blocked",type:"object",order:3,properties:{metrics:{title:"Atom Metrics",type:"boolean",default:!0,order:1},analytics:{title:"Google Analytics",type:"boolean",default:!0,order:2},tagManager:{title:"Google Tag Manager",type:"boolean",default:!0,order:2},matomo:{title:"Matomo/Piwik",type:"boolean",default:!0,order:3}}}},subscriptions:null,settings:null,statusbar:null,activate:function(){return o(this,void 0,void 0,(function(){var e=this;return i(this,(function(n){return le(),this.settings=new je,this.statusbar=new Te,this.subscriptions=new t.CompositeDisposable,this.subscriptions.add(atom.commands.add("atom-workspace",{"do-not-track:toggle-settings":function(){e.settings.toggle()}})),[2]}))}))},deactivate:function(){var t;null===(t=this.subscriptions)||void 0===t||t.dispose(),this.settings.destroy()},consumeStatusBar:function(t){this.statusbar.attach(t)}};module.exports=De;
