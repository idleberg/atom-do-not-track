"use strict";var e=require("atom");function t(e,t,n,o){return new(n||(n=Promise))((function(r,i){function s(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((o=o.apply(e,t||[])).next())}))}function n(e,t){var n,o,r,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}"function"==typeof SuppressedError&&SuppressedError;function o(e){var t={exports:{}};return e(t,t.exports),t.exports}var r=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions=t.presets=void 0;const n={chrome:{supportedSchemes:["http","https","file","ftp"],schemeStarMatchesWs:!1},firefox:{supportedSchemes:["http","https","ws","wss","ftp","ftps","data","file"],schemeStarMatchesWs:!0}};t.presets=n;const o=Object.assign(Object.assign({},n.chrome),{strict:!0});t.defaultOptions=o})),i=function(...e){if(Array.isArray(e[0])){const[t,...n]=e;return l("")(t,...n)}{const[t]=e;return l(t)}};const s={global:"g",ignoreCase:"i",multiline:"m",dotAll:"s",sticky:"y",unicode:"u"},a=/(\\*)#(.*)/g,c=(e,t,n)=>t.length%2?t.slice(1)+"#"+n.replace(a,c):t,l=(e={})=>(t,...n)=>{let o="";t.raw.forEach(((e,t)=>{o+=e.replace(a,c).replace(/\\`/g,"`").replace(/(\\*)(\s+)/g,((e,t,n)=>" "===n[0]&&t.length%2?t.slice(1)+n[0]:t));const r=n[t];r instanceof RegExp?o+=r.source:o+=null!=r?r:""}));let r="";return"string"==typeof e?r=e:Object.entries(s).forEach((([t,n])=>{e[t]&&(r+=n)})),new RegExp(o,r)};var u=Object.defineProperty({regex:i},"__esModule",{value:!0}),f=d,p=function(e,t){return(0,u.regex)(t)`${d(e)}`};function d(e){return e.replace(/[$()*+\-.?[\\\]^{|}]/g,(e=>`\\x${e.codePointAt(0).toString(16).padStart(2,"0")}`))}var h=Object.defineProperty({regexEscape:f,exact:p},"__esModule",{value:!0}),m=function(e,t){const n=e.source.replace(/^\^?([\s\S]*?)\$?$/,"$1");return(0,u.regex)(null!=t?t:e.flags)`${n}`};var g=Object.defineProperty({unwrap:m},"__esModule",{value:!0}),y=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.proxy=void 0;const n=new Proxy(u.regex,{get:(e,t)=>e("_"===t?"":t),apply:(e,t,n)=>e(...n)});t.proxy=n})),b=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"regex",{enumerable:!0,get:function(){return u.regex}}),Object.defineProperty(t,"exact",{enumerable:!0,get:function(){return h.exact}}),Object.defineProperty(t,"regexEscape",{enumerable:!0,get:function(){return h.regexEscape}}),Object.defineProperty(t,"unwrap",{enumerable:!0,get:function(){return g.unwrap}}),Object.defineProperty(t,"proxy",{enumerable:!0,get:function(){return y.proxy}})})),v=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDummyUrl=void 0;const n=/^|$|[/?=&\-]/;t.getDummyUrl=(e,t={})=>{const{rawHost:o,rawPathAndQuery:r}=e,{defaultScheme:i="https",subdomain:s="",pathAndQueryReplacer:a="",rootDomain:c="example.com",strict:l=!0}=t;let u;const f="*"===e.scheme?i:e.scheme;u="file"===f?"":"*"===o?[s,c].filter(Boolean).join("."):o.replace(/^\*./,s?`${s}.`:"");const p=(l?r:"/*").replace(/\*/g,`-${a}-`).replace((0,b.regex)("g")`-+(${n})`,"$1").replace((0,b.regex)("g")`(${n})-+`,"$1").replace(/\/+/g,"/");try{return new URL(`${f}://${u}${p}`)}catch(e){return null}}})),x=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getPatternSegments=void 0;const n=b.regex`
	^
		(\*|\w+)      # scheme
		://
		(
			\*     |  # Any host
			[^/]*     # Only the given host (optional only if scheme is file)
		)
		(/.*)         # path
	$
`;t.getPatternSegments=e=>{if("<all_urls>"===e)return{pattern:e,scheme:"*",rawHost:"*",rawPathAndQuery:"/*"};const t=e.match(n);if(!t)return null;const[,o,r,i]=t;return{pattern:e,scheme:o,rawHost:r,rawPathAndQuery:i}}})),w=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getExampleUrls=void 0;t.getExampleUrls=(e,t)=>{const n=(0,x.getPatternSegments)(e),{supportedSchemes:o,strict:r}=t,i=["","www","foo.bar"],s=["example.com"],a=["","foo","/bar/baz/"],c=o.flatMap((e=>i.flatMap((t=>s.flatMap((o=>a.flatMap((i=>(0,v.getDummyUrl)(n,{defaultScheme:e,subdomain:t,rootDomain:o,pathAndQueryReplacer:i,strict:r})))))))));return[...new Set(c.filter(Boolean).map((e=>e.href)))]}})),$=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ALL_URLS=void 0;t.ALL_URLS="<all_urls>"})),k=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getHostRegex=void 0;t.getHostRegex=e=>{const{pattern:t,scheme:n,rawHost:o}=e;if(!o&&"file"!==n)return new Error('Host is optional only if the scheme is "file".');const r=o.includes("*");if(r){const e=o.split("*.");if(o.length>1&&(2!==e.length||e[0]||!e[1]))return new Error('Host can contain only one wildcard at the start, in the form "*.<host segments>"')}const i=(0,v.getDummyUrl)(e,{subdomain:""});if(!i)return new Error(`Pattern "${t}" cannot be used to construct a valid URL.`);const s=i.host;if(/:\d+$/.test(s))return new Error(`Host "${o}" cannot include a port number. All ports are matched by default.`);if(/[^.a-z0-9\-]/.test(s))return new Error(`Host "${o}" contains invalid characters.`);const a=r?"*."+s:s;return"*"===o?/.+/:a.startsWith("*.")?b.regex`
			^
				(?:[^.]+\.)*     # any number of dot-terminated segments
				${(0,b.regexEscape)(a.slice(2))}   # rest after leading *.
			$
		`:b.regex`^${(0,b.regexEscape)(a)}$`}})),_=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.createMatchFn=t.normalizeUrlFragment=void 0;const n=e=>{try{return encodeURI(decodeURI(e))}catch(e){return e}};t.normalizeUrlFragment=n;t.createMatchFn=e=>t=>{let o;try{const e=t instanceof URL?t.href:t;o=new URL(e);const r=n(o.pathname),i=n(o.search);if(r instanceof Error||i instanceof Error)return!1;o.pathname=r,o.href.endsWith("?")||(o.search=i)}catch(e){return!1}return e(o)}})),P=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.toMatchFnOrError=void 0;t.toMatchFnOrError=(e,t)=>{const{supportedSchemes:n,schemeStarMatchesWs:o,strict:r}=t;if(e===$.ALL_URLS)return(0,_.createMatchFn)((e=>b.regex`
				^
					(?:${n.map(b.regexEscape).join("|")})
					:
				$
			`.test(e.protocol)));const i=(0,x.getPatternSegments)(e);if(!i)return new Error(`Pattern "${e}" is invalid`);const{scheme:s,rawPathAndQuery:a}=i;if("*"!==s&&!n.includes(s))return new Error(`Scheme "${s}" is not supported`);const c=b.regex`${"*"===s?["https?",o&&"wss?"].filter(Boolean).join("|"):s}:`,l=(0,k.getHostRegex)(i);if(l instanceof Error)return l;const u=r?(0,_.normalizeUrlFragment)(a):"/*";if(u instanceof Error)return u;const f=b.regex`^${u.split("*").map((e=>(0,b.regexEscape)(e))).join(".*")}$`;return(0,_.createMatchFn)((e=>{const t=e.pathname+(e.href.endsWith("?")?"?":e.search);return c.test(e.protocol)&&l.test(e.host)&&f.test(t)}))}})),E=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.matchPattern=t.matchPatternWithConfig=void 0;const n=e=>t=>{const n=Object.assign(Object.assign({},r.defaultOptions),e),o=(0,P.toMatchFnOrError)(t,n);return o instanceof Error?{valid:!1,error:o,match:()=>!1,get examples(){return[]},pattern:t,config:n}:{valid:!0,match:o,get examples(){return(0,w.getExampleUrls)(t,n).filter((e=>o(e))).slice(0,100)},pattern:t,config:n}};t.matchPatternWithConfig=n;const o=n({});t.matchPattern=o})),M=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"matchPattern",{enumerable:!0,get:function(){return E.matchPattern}}),Object.defineProperty(t,"matchPatternWithConfig",{enumerable:!0,get:function(){return E.matchPatternWithConfig}}),Object.defineProperty(t,"presets",{enumerable:!0,get:function(){return r.presets}})})),O="do-not-track";function j(e){return e?atom.config.get("".concat(O,".").concat(e)):atom.config.get(O)}function S(){}function A(e){return e()}function U(){return Object.create(null)}function R(e){e.forEach(A)}function z(e){return"function"==typeof e}function L(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function N(e,t){e.appendChild(t)}function D(e,t,n){const o=function(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;if(t&&t.host)return t;return e.ownerDocument}(e);if(!o.getElementById(t)){const e=I("style");e.id=t,e.textContent=n,function(e,t){N(e.head||e,t),t.sheet}(o,e)}}function C(e,t,n){e.insertBefore(t,n||null)}function T(e){e.parentNode&&e.parentNode.removeChild(e)}function H(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function I(e){return document.createElement(e)}function B(e){return document.createTextNode(e)}function W(){return B(" ")}function F(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function Q(e){return function(t){return t.preventDefault(),e.call(this,t)}}function q(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function G(e,t,n){t in e?e[t]="boolean"==typeof e[t]&&""===n||n:q(e,t,n)}function Y(e,t){t=""+t,e.data!==t&&(e.data=t)}let J;function V(e){J=e}function K(e){(function(){if(!J)throw new Error("Function called outside component initialization");return J})().$$.on_destroy.push(e)}const X=[],Z=[];let ee=[];const te=[],ne=Promise.resolve();let oe=!1;function re(e){ee.push(e)}const ie=new Set;let se=0;function ae(){if(0!==se)return;const e=J;do{try{for(;se<X.length;){const e=X[se];se++,V(e),ce(e.$$)}}catch(e){throw X.length=0,se=0,e}for(V(null),X.length=0,se=0;Z.length;)Z.pop()();for(let e=0;e<ee.length;e+=1){const t=ee[e];ie.has(t)||(ie.add(t),t())}ee.length=0}while(X.length);for(;te.length;)te.pop()();oe=!1,ie.clear(),V(e)}function ce(e){if(null!==e.fragment){e.update(),R(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(re)}}const le=new Set;let ue;function fe(){ue={r:0,c:[],p:ue}}function pe(){ue.r||R(ue.c),ue=ue.p}function de(e,t){e&&e.i&&(le.delete(e),e.i(t))}function he(e,t,n,o){if(e&&e.o){if(le.has(e))return;le.add(e),ue.c.push((()=>{le.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}else o&&o()}function me(e){e&&e.c()}function ge(e,t,n,o){const{fragment:r,after_update:i}=e.$$;r&&r.m(t,n),o||re((()=>{const t=e.$$.on_mount.map(A).filter(z);e.$$.on_destroy?e.$$.on_destroy.push(...t):R(t),e.$$.on_mount=[]})),i.forEach(re)}function ye(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];ee.forEach((o=>-1===e.indexOf(o)?t.push(o):n.push(o))),n.forEach((e=>e())),ee=t}(n.after_update),R(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function be(e,t){-1===e.$$.dirty[0]&&(X.push(e),oe||(oe=!0,ne.then(ae)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ve(e,t,n,o,r,i,s,a=[-1]){const c=J;V(e);const l=e.$$={fragment:null,ctx:[],props:i,update:S,not_equal:r,bound:U(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:U(),dirty:a,skip_bound:!1,root:t.target||c.$$.root};s&&s(l.root);let u=!1;if(l.ctx=n?n(e,t.props||{},((t,n,...o)=>{const i=o.length?o[0]:n;return l.ctx&&r(l.ctx[t],l.ctx[t]=i)&&(!l.skip_bound&&l.bound[t]&&l.bound[t](i),u&&be(e,t)),n})):[],l.update(),u=!0,R(l.before_update),l.fragment=!!o&&o(l.ctx),t.target){if(t.hydrate){const e=function(e){return Array.from(e.childNodes)}(t.target);l.fragment&&l.fragment.l(e),e.forEach(T)}else l.fragment&&l.fragment.c();t.intro&&de(e.$$.fragment),ge(e,t.target,t.anchor,t.customElement),ae()}V(c)}class xe{$destroy(){ye(this,1),this.$destroy=S}$on(e,t){if(!z(t))return S;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function we(e){D(e,"svelte-3h6cae","list-item.svelte-3h6cae{display:flex;justify-content:space-between;line-height:1.5;margin-bottom:5px;margin-top:5px}divider.svelte-3h6cae{border-top:1px dashed;flex:1 1 0;margin-right:10px;margin-top:.80em;vertical-align:center}")}function $e(e){let t,n;return{c(){t=I("div"),n=B(e[1]),q(t,"class","inline-block")},m(e,o){C(e,t,o),N(t,n)},p(e,t){2&t&&Y(n,e[1])},d(e){e&&T(t)}}}function ke(e){let t,n,o;return{c(){t=I("code"),n=B(e[1]),q(t,"class",o="inline-block "+Pe(e[1]))},m(e,o){C(e,t,o),N(t,n)},p(e,r){2&r&&Y(n,e[1]),2&r&&o!==(o="inline-block "+Pe(e[1]))&&q(t,"class",o)},d(e){e&&T(t)}}}function _e(e){let t,n,o,r,i,s;function a(e,t){return e[2]?ke:$e}let c=a(e),l=c(e);return{c(){t=I("list-item"),n=I("div"),o=B(e[0]),r=W(),i=I("divider"),s=W(),l.c(),q(n,"class","inline-block"),q(i,"class","svelte-3h6cae"),G(t,"class","svelte-3h6cae")},m(e,a){C(e,t,a),N(t,n),N(n,o),N(t,r),N(t,i),N(t,s),l.m(t,null)},p(e,[n]){1&n&&Y(o,e[0]),c===(c=a(e))&&l?l.p(e,n):(l.d(1),l=c(e),l&&(l.c(),l.m(t,null)))},i:S,o:S,d(e){e&&T(t),l.d()}}}function Pe(e){switch(!0){case parseInt(e,10)>=100:return"highlight-error";case parseInt(e,10)>=25:return"highlight-warning";default:return"highlight-info"}}function Ee(e,t,n){let{name:o}=t,{counter:r}=t,{highlight:i}=t;return e.$$set=e=>{"name"in e&&n(0,o=e.name),"counter"in e&&n(1,r=e.counter),"highlight"in e&&n(2,i=e.highlight)},[o,r,i]}class Me extends xe{constructor(e){super(),ve(this,e,Ee,_e,L,{name:0,counter:1,highlight:2},we)}}const Oe=[];var je=function(e,t=S){let n;const o=new Set;function r(t){if(L(e,t)&&(e=t,n)){const t=!Oe.length;for(const t of o)t[1](),Oe.push(t,e);if(t){for(let e=0;e<Oe.length;e+=2)Oe[e][0](Oe[e+1]);Oe.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(i,s=S){const a=[i,s];return o.add(a),1===o.size&&(n=t(r)||S),i(e),()=>{o.delete(a),0===o.size&&n&&(n(),n=null)}}}}({counter:0,buttonClass:"subtle",services:{adobe:{counter:0,name:"Adobe Data API",shortName:"Adobe"},bugsnag:{counter:0,name:"Bugsnag",shortName:"Bugsnag"},metrics:{counter:0,name:"Atom Metrics",shortName:"Metrics"},analytics:{counter:0,name:"Google Analytics",shortName:"Analytics"},tagManager:{counter:0,name:"Google Tag Manager",shortName:"Tag Manager"},matomo:{counter:0,name:"Matomo/Piwik",shortName:"Matomo/Piwik"},microsoft:{counter:0,name:"Microsoft",shortName:"Microsoft"},posthog:{counter:0,name:"PostHog",shortName:"PostHog"},sentry:{counter:0,name:"Sentry",shortName:"Sentry"},yandex:{counter:0,name:"Yandex",shortName:"Yandex"},others:{counter:0,name:"Others",shortName:"Others"}},customUrls:function(){var e=localStorage.getItem("do-not-track:custom-urls")||"[]";try{return JSON.parse(e)}catch(e){return[]}}()});function Se(e){D(e,"svelte-6xz4e5","section.svelte-6xz4e5.svelte-6xz4e5{padding:5px}form.svelte-6xz4e5.svelte-6xz4e5{display:flex;margin-bottom:1em}form.svelte-6xz4e5 atom-text-editor.svelte-6xz4e5{flex-grow:1}li.svelte-6xz4e5.svelte-6xz4e5{text-overflow:ellipsis;overflow:hidden}")}function Ae(e,t,n){const o=e.slice();return o[8]=t[n],o}function Ue(e,t,n){const o=e.slice();return o[11]=t[n],o}function Re(e){let t,n;return t=new Me({props:{name:e[0][e[11]].name,counter:e[0][e[11]].counter,highlight:!0}}),{c(){me(t.$$.fragment)},m(e,o){ge(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.name=e[0][e[11]].name),1&n&&(o.counter=e[0][e[11]].counter),t.$set(o)},i(e){n||(de(t.$$.fragment,e),n=!0)},o(e){he(t.$$.fragment,e),n=!1},d(e){ye(t,e)}}}function ze(e){let t,n,o,r,i,s,a,c,l,u=e[8]+"";return{c(){t=I("li"),n=I("button"),o=W(),r=I("span"),i=B(u),s=W(),q(n,"aria-label","Remove URL from list"),q(n,"class","btn btn-xs icon icon-remove-close"),q(r,"class","text-info"),q(t,"class","list-item svelte-6xz4e5"),q(t,"title",a=e[8])},m(a,u){C(a,t,u),N(t,n),N(t,o),N(t,r),N(r,i),N(t,s),c||(l=F(n,"click",e[4]),c=!0)},p(e,n){2&n&&u!==(u=e[8]+"")&&Y(i,u),2&n&&a!==(a=e[8])&&q(t,"title",a)},d(e){e&&T(t),c=!1,l()}}}function Le(e){let t,n,o,r,i,s,a,c,l,u,f,p,d,h,m,g,y,b,v,x,w,$,k,_,P,E=Object.keys(e[0]),M=[];for(let t=0;t<E.length;t+=1)M[t]=Re(Ue(e,E,t));const O=e=>he(M[e],1,1,(()=>{M[e]=null}));let j=e[1],S=[];for(let t=0;t<j.length;t+=1)S[t]=ze(Ae(e,j,t));return{c(){t=I("section"),n=I("div"),o=I("atom-panel"),r=I("div"),i=I("div"),i.textContent="Blocked Connections",s=W(),a=I("div");for(let e=0;e<M.length;e+=1)M[e].c();c=W(),l=I("div"),u=I("atom-panel"),f=I("div"),p=I("div"),p.textContent="Custom URLs",d=W(),h=I("div"),m=I("p"),m.innerHTML='Here you can add match patterns for URLs. These consist of three parts: scheme, host, and path. The scheme and host are separated by <code>://</code>.\n            See the <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/Match_patterns">MDN documentation</a> for details.',g=W(),y=I("form"),b=I("atom-text-editor"),v=W(),x=I("button"),w=W(),$=I("ul");for(let e=0;e<S.length;e+=1)S[e].c();q(i,"class","panel-heading"),q(a,"class","panel-body padded"),q(r,"class","inset-panel"),q(n,"class","block"),q(p,"class","panel-heading"),G(b,"id","url-input"),G(b,"class","editor mini svelte-6xz4e5"),G(b,"mini",""),G(b,"data-grammar","text plain null-grammar"),G(b,"placeholder","<scheme>://<host>/<path>"),q(x,"type","submit"),q(x,"aria-label","Add URL to list"),q(x,"class","btn icon icon-gist-new"),q(y,"class","svelte-6xz4e5"),q($,"class","list-group"),q(h,"class","panel-body padded"),q(f,"class","inset-panel"),q(l,"class","block"),q(t,"class","svelte-6xz4e5")},m(E,O){C(E,t,O),N(t,n),N(n,o),N(o,r),N(r,i),N(r,s),N(r,a);for(let e=0;e<M.length;e+=1)M[e]&&M[e].m(a,null);N(t,c),N(t,l),N(l,u),N(u,f),N(f,p),N(f,d),N(f,h),N(h,m),N(h,g),N(h,y),N(y,b),N(y,v),N(y,x),N(h,w),N(h,$);for(let e=0;e<S.length;e+=1)S[e]&&S[e].m($,null);k=!0,_||(P=[F(b,"keyup",Q(e[3])),F(y,"submit",Q(e[2]))],_=!0)},p(e,[t]){if(1&t){let n;for(E=Object.keys(e[0]),n=0;n<E.length;n+=1){const o=Ue(e,E,n);M[n]?(M[n].p(o,t),de(M[n],1)):(M[n]=Re(o),M[n].c(),de(M[n],1),M[n].m(a,null))}for(fe(),n=E.length;n<M.length;n+=1)O(n);pe()}if(18&t){let n;for(j=e[1],n=0;n<j.length;n+=1){const o=Ae(e,j,n);S[n]?S[n].p(o,t):(S[n]=ze(o),S[n].c(),S[n].m($,null))}for(;n<S.length;n+=1)S[n].d(1);S.length=j.length}},i(e){if(!k){for(let e=0;e<E.length;e+=1)de(M[e]);k=!0}},o(e){M=M.filter(Boolean);for(let e=0;e<M.length;e+=1)he(M[e]);k=!1},d(e){e&&T(t),H(M,e),H(S,e),_=!1,R(P)}}}function Ne(e,t,n){let o,r;function i(){!function(e){if(!e.trim().length||!function(e){var t=M.matchPattern(e).valid;return t||atom.notifications.addError("Invalid URL match pattern. [Need help?](https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/Match_patterns#examples)"),t}(e))return!1;if(!r.includes(e.trim()))return r.push(e.trim()),s(r),!0}(document.querySelector("#url-input .line .syntax--text").innerText)}async function s(e){const t=e;je.update((t=>(t.customUrls=e,t)));const{init:n}=await Promise.resolve().then((function(){return require("./filter-0e64fef3.js")}));try{await n()}catch(e){je.update((e=>(e.customUrls=t,e)))}!function(e){localStorage.setItem("do-not-track:custom-urls",JSON.stringify(e))}(e)}return K(je.subscribe((e=>{n(0,o=e.services),n(1,r=e.customUrls)}))),[o,r,i,function(e){"Enter"==e.code&&i()},function(e){const t=e.target.parentNode.innerText.trim(),n=r.indexOf(t);n<0||(r.splice(n,1),s(r))}]}class De extends xe{constructor(e){super(),ve(this,e,Ne,Le,L,{},Se)}}var Ce=function(){function t(){this.subscriptions=new e.CompositeDisposable,this.init()}return t.prototype.getTitle=function(){return"Do Not Track"},t.prototype.getURI=function(){return"atom://do-not-track/settings"},t.prototype.getDefaultLocation=function(){return String(j("interfaceAlignment"))},t.prototype.getElement=function(){var e=document.createElement("do-not-track-settings");return new De({target:e}),e},t.prototype.getIconName=function(){return"stop"},t.prototype.getDock=function(){return"left"===j("interfaceAlignment")?atom.workspace.getLeftDock():atom.workspace.getRightDock()},t.prototype.init=function(){atom.workspace.open(this,{activatePane:!1,activateItem:!1})},t.prototype.show=function(){this.getDock().show()},t.prototype.hide=function(){this.getDock().hide()},t.prototype.toggle=function(){atom.workspace.toggle(this)},t.prototype.destroy=function(){(null==this?void 0:this.subscriptions)&&this.subscriptions.dispose()},t}(),Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function He(){if("function"==typeof this.destroy)this.destroy();else if("function"==typeof this.stop)this.stop();else if("function"==typeof this.kill)this.kill();else{if("function"!=typeof this.end)throw new Error("Unable to dispose object");this.end()}}var Ie=function(e){return"object"===(void 0===e?"undefined":Te(e))&&"function"!=typeof e.dispose&&Object.defineProperty(e,"dispose",{enumerable:!1,configurable:!1,writable:!1,value:He}),e};function Be(e){D(e,"svelte-1yn2hhz","section.svelte-1yn2hhz{color:inherit}")}function We(e,t,n){const o=e.slice();return o[2]=t[n],o}function Fe(e){let t,n;return t=new Me({props:{name:e[0][e[2]].shortName,counter:e[0][e[2]].counter}}),{c(){me(t.$$.fragment)},m(e,o){ge(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.name=e[0][e[2]].shortName),1&n&&(o.counter=e[0][e[2]].counter),t.$set(o)},i(e){n||(de(t.$$.fragment,e),n=!0)},o(e){he(t.$$.fragment,e),n=!1},d(e){ye(t,e)}}}function Qe(e){let t,n,o,r,i,s=Object.keys(e[0]),a=[];for(let t=0;t<s.length;t+=1)a[t]=Fe(We(e,s,t));const c=e=>he(a[e],1,1,(()=>{a[e]=null}));return{c(){t=I("section"),n=I("p"),n.innerHTML="<strong>Blocked Connections</strong>",o=W(),r=I("div");for(let e=0;e<a.length;e+=1)a[e].c();q(r,"class","list-group"),q(t,"class","svelte-1yn2hhz")},m(e,s){C(e,t,s),N(t,n),N(t,o),N(t,r);for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(r,null);i=!0},p(e,[t]){if(1&t){let n;for(s=Object.keys(e[0]),n=0;n<s.length;n+=1){const o=We(e,s,n);a[n]?(a[n].p(o,t),de(a[n],1)):(a[n]=Fe(o),a[n].c(),de(a[n],1),a[n].m(r,null))}for(fe(),n=s.length;n<a.length;n+=1)c(n);pe()}},i(e){if(!i){for(let e=0;e<s.length;e+=1)de(a[e]);i=!0}},o(e){a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)he(a[e]);i=!1},d(e){e&&T(t),H(a,e)}}}function qe(e,t,n){let o;return K(je.subscribe((e=>{n(0,o=e.services)}))),[o]}class Ge extends xe{constructor(e){super(),ve(this,e,qe,Qe,L,{},Be)}}function Ye(e){D(e,"svelte-d30rb6","button.svelte-d30rb6{background-color:inherit;border:none}")}function Je(e){let t,n,o,r,i,s,a,c=(e[2]&&0!==e[1]?e[1]:"")+"";return{c(){t=I("button"),n=I("span"),o=W(),r=B(c),q(n,"class","icon icon-stop"),q(t,"class",i="inline-block text-"+e[0]+" svelte-d30rb6")},m(e,i){C(e,t,i),N(t,n),N(t,o),N(t,r),s||(a=F(t,"click",Ve),s=!0)},p(e,[n]){6&n&&c!==(c=(e[2]&&0!==e[1]?e[1]:"")+"")&&Y(r,c),1&n&&i!==(i="inline-block text-"+e[0]+" svelte-d30rb6")&&q(t,"class",i)},i:S,o:S,d(e){e&&T(t),s=!1,a()}}}function Ve(){const e=atom.workspace.getActivePane(),t=atom.views.getView(e);atom.commands.dispatch(t,"do-not-track:toggle-settings")}function Ke(e,t,n){let o,r;const i=je.subscribe((e=>{n(0,o=e.buttonClass),n(1,r=e.counter)}));let s=j("alwaysShowCounter");return atom.config.observe("do-not-track.alwaysShowCounter",(e=>{n(2,s=e)})),K(i),[o,r,s]}class Xe extends xe{constructor(e){super(),ve(this,e,Ke,Je,L,{},Ye)}}var Ze=function(){function t(){this.subscriptions=new e.CompositeDisposable}return t.prototype.attach=function(e){var t="left"===j("interfaceAlignment")?"addLeftTile":"addRightTile";this.subscriptions.add(Ie(e[t]({item:this.render(),priority:100})))},t.prototype.render=function(){var e=document.createElement("do-not-track-button"),t=document.createElement("div");return atom.tooltips.add(e,{item:t}),new Ge({target:t}),new Xe({target:e}),e},t}(),et={config:{interfaceAlignment:{title:"Interface Alignment",description:"Specifies on which side the UI aligns. The change will only take effect on the next launch.",type:"string",order:1,enum:[{value:"left",description:"left"},{value:"right",description:"right"}],default:"right"},alwaysShowCounter:{title:"Always Show Counter",description:"Displays a counter next to the status-bar icon",type:"boolean",default:!0,order:2},defaultTracking:{title:"Default Tracking",description:"Default tracking URLs that can be blocked",type:"object",order:3,properties:{adobe:{title:"Adobe",type:"boolean",default:!0,order:1},bugsnag:{title:"Bugsnag",type:"boolean",default:!0,order:1},metrics:{title:"Atom Metrics",type:"boolean",default:!0,order:2},analytics:{title:"Google Analytics",type:"boolean",default:!0,order:3},tagManager:{title:"Google Tag Manager",type:"boolean",default:!0,order:4},matomo:{title:"Matomo/Piwik",type:"boolean",default:!0,order:5},microsoft:{title:"Microsoft",type:"boolean",default:!0,order:6},posthog:{title:"PostHog",type:"boolean",default:!0,order:7},sentry:{title:"Sentry",type:"boolean",default:!0,order:8},yandex:{title:"Yandex Metrica",type:"boolean",default:!0,order:9}}}},subscriptions:null,settings:null,statusbar:null,activate:function(){return t(this,void 0,void 0,(function(){var t=this;return n(this,(function(n){switch(n.label){case 0:return this.statusbar=new Ze,this.settings=new Ce,[4,Promise.resolve().then((function(){return require("./filter-0e64fef3.js")}))];case 1:return[4,(0,n.sent().init)()];case 2:return n.sent(),this.subscriptions=new e.CompositeDisposable,this.subscriptions.add(atom.commands.add("atom-workspace",{"do-not-track:toggle-settings":function(){t.settings.toggle()}})),[2]}}))}))},deactivate:function(){var e;null===(e=this.subscriptions)||void 0===e||e.dispose(),this.settings.destroy()},consumeStatusBar:function(e){this.statusbar.attach(e)}};exports.__awaiter=t,exports.__generator=n,exports.getConfig=j,exports.index=et,exports.store=je,exports.trackingURLs={adobe:["*://cc-api-data.adobe.io/*"],bugsnag:["*://notify.bugsnag.com/*"],metrics:["*://central.github.com/api/usage/atom"],analytics:["*://*.app-measurement.com/*","*://app-measurement.com/*","*://*.google-analytics.com/*","*://google-analytics.com/*"],tagManager:["*://*.googletagmanager.com/*","*://googletagmanager.com/*"],matomo:["*://*/*matomo.js*","*://*/*matomo.php*","*://*/*piwik.js*","*://*/*piwik.php*"],microsoft:["*://*.pipe.aria.microsoft.com/*"],posthog:["*://*.i.posthog.com/*"],sentry:["*://*.ingest.sentry.io/*"],yandex:["*://api-metrica.yandex.net/*","*://api-metrika.yandex.net/*"]};
