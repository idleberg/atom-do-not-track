"use strict";var e=require("./index-2ce5ce06.js"),r=require("electron");function t(r){return e.__awaiter(this,void 0,void 0,(function(){var t;return e.__generator(this,(function(n){switch(n.label){case 0:return[4,Promise.resolve().then((function(){return require("./index-eda3ade5.js")})).then((function(e){return e.index}))];case 1:return t=n.sent().default,e.store.update((function(n){switch(n.counter+=1,n.buttonClass="error",!0){case t(r.url,e.trackingURLs.adobe).length>0:n.services.adobe.counter+=1;break;case t(r.url,e.trackingURLs.bugsnag).length>0:n.services.bugsnag.counter+=1;break;case t(r.url,e.trackingURLs.metrics).length>0:n.services.metrics.counter+=1;break;case t(r.url,e.trackingURLs.analytics).length>0:n.services.analytics.counter+=1;break;case t(r.url,e.trackingURLs.tagManager).length>0:n.services.tagManager.counter+=1;break;case t(r.url,e.trackingURLs.matomo).length>0:case r.url.includes("matomo.js"):case r.url.includes("matomo.php"):case r.url.includes("piwik.js"):case r.url.includes("piwik.php"):n.services.matomo.counter+=1;break;case t(r.url,e.trackingURLs.microsoft).length>0:n.services.microsoft.counter+=1;break;case t(r.url,e.trackingURLs.yandex).length>0:n.services.yandex.counter+=1;break;default:n.services.others.counter+=1}return n})),[2]}}))}))}require("atom"),exports.init=function(){return e.__awaiter(this,void 0,void 0,(function(){var n,s=this;return e.__generator(this,(function(a){var c,i,u;return i=[],(u=e.getConfig("defaultTracking")).adobe&&i.push.apply(i,e.trackingURLs.adobe),u.bugsnag&&i.push.apply(i,e.trackingURLs.bugsnag),u.metrics&&i.push.apply(i,e.trackingURLs.metrics),u.analytics&&i.push.apply(i,e.trackingURLs.analytics),u.tagManager&&i.push.apply(i,e.trackingURLs.tagManager),u.matomo&&i.push.apply(i,e.trackingURLs.matomo),u.microsoft&&i.push.apply(i,e.trackingURLs.microsoft),e.store.subscribe((function(e){c=e.customUrls})),c.length&&i.push.apply(i,c),n={urls:i},r.remote.session.defaultSession.webRequest.onBeforeSendHeaders(n,(function(r,n){return e.__awaiter(s,void 0,void 0,(function(){return e.__generator(this,(function(e){switch(e.label){case 0:return console.log("Connection blocked",r),[4,t(r)];case 1:return e.sent(),n({cancel:!0}),[2]}}))}))})),[2]}))}))};
